---
title: ビジネスイベントの設定
description: ビジネスイベントの作成方法
feature: Events
topic: Administration
role: Admin
level: Intermediate
exl-id: 39eb40e1-d7f5-4a8e-9b64-c620940d5ff2
source-git-commit: 51254efaab08a572def118d475dc18f74c9d29b7
workflow-type: tm+mt
source-wordcount: '1063'
ht-degree: 100%

---

# ビジネスイベントの設定 {#configure-a-business-event}

単一ベントとは異なり、ビジネスイベントは特定のプロファイルにリンクされません。イベント ID タイプは常にルールベースです。ビジネスイベントの詳細については、[この節](../event/about-events.md)を参照してください。

読み取りセグメントベースのジャーニーは、1 回限り、定期的なスケジューラー、またはイベントの発生時にビジネスイベントによってトリガーできます。

ビジネスイベントには、「製品が再入荷した」、「企業の株価が一定値に達した」などがあります。

>[!NOTE]
>
>また、ビジネスイベントのユースケースについての[チュートリアル](https://experienceleague.adobe.com/docs/journey-optimizer-learn/tutorials/create-journeys/use-case-business-event.html?lang=ja)を視聴することもできます。

## 重要な注意事項 {#important-notes}

* 時系列スキーマのみ使用できます。エクスペリエンスイベント、決定イベント、ジャーニーステップイベントのスキーマは使用できません。イベントスキーマには、プライマリ ID が含まれている必要があります。フィールド `_id` および `timestamp` を必要に応じて設定する必要があります。
* ビジネスイベントは、ジャーニーの最初のステップとしてのみドロップできます。
* ビジネスイベントをジャーニーの最初のステップとしてドロップする場合、ジャーニーのスケジューラータイプは「ビジネスイベント」になります。
* ビジネスイベントの後にドロップできるのは、読み取りセグメントアクティビティだけです。次のステップとして自動的に追加されます。
* 複数のビジネスイベントの実行を許可するには、ジャーニープロパティの「**[!UICONTROL 実行]**」セクションで、対応するオプションを有効にします。
* ビジネスイベントがトリガーされた後、セグメントを書き出すのに、15 分から 1 時間の遅延が生じます。
* ビジネスイベントをテストする場合は、イベントパラメーターと、テストジャーニーにエントリするテストプロファイルの ID を渡す必要があります。また、ビジネスイベントベースのジャーニーをテストする場合は、1 つのプロファイルエントリのみをトリガーできます。[この節](../building-journeys/testing-the-journey.md#test-business)を参照してください。テストモードでは、「コードビュー」モードは使用できません。
* 新しいビジネスイベントが発生した場合、現在ジャーニーにいる個人はどうなりますか？新しい繰り返しが発生しても、個人は引き続き繰り返しジャーニー内に留まるのと同様です。パスは終了しました。その結果、頻繁なビジネスイベントが予測される場合、マーケターは作成するジャーニーが長くなりすぎるのを避けるために注意を払う必要があります。

## 複数のビジネスイベント {#multiple-business-events}

複数のビジネスイベントを続けて受け取る場合に適用される重要な注意事項を以下に示します。

**ジャーニーの処理中にビジネスイベントを受信した場合の動作を教えてください。**

ビジネスイベントは、単一イベントの場合と同じように再エントリルールに従います。 ジャーニーが再エントリを許可する場合は、次のビジネスイベントが処理されます。

**具体化されたセグメントの過負荷を避けるためのガードレールとは何ですか？**

1 回限りのビジネスイベントの場合、特定のジャーニーについて、最初のイベントジョブによってプッシュされたデータが 1 時間の時間枠で再利用されます。スケジュールされたジャーニーの場合、ガードレールはありません。セグメントについて詳しくは、[Adobe Experience Platform セグメント化サービスのドキュメント](https://experienceleague.adobe.com/docs/experience-platform/segmentation/home.html?lang=ja)を参照してください。

## ビジネスイベントの概要 {#gs-business-events}

ビジネスイベントを設定する最初の手順は次のとおりです。

1. 管理メニューセクションで、「**[!UICONTROL 設定]**」を選択します。 「**[!UICONTROL イベント]**」セクションで、「**[!UICONTROL 管理]**」をクリックします。 イベントのリストが表示されます。

   ![](../assets/jo-event1.png)

1. 新しいイベントを作成するには、「**[!UICONTROL イベントを作成]**」をクリックします。画面の右側にイベント設定ペインが開きます。


   ![](../assets/jo-event2.png)

1. イベントの名前を入力します。説明を追加することもできます。

   ![](../assets/jo-event3-business.png)

   >[!NOTE]
   >
   >スペースや特殊文字は使用しないでください。30 文字以内にしてください。

1. 「**[!UICONTROL タイプ]**」フィールドで、「**ビジネス**」を選択します。

   ![](../assets/jo-event3bis-business.png)

1. このイベントを使用するジャーニーの数は、「**[!UICONTROL 使用されている場所]**」フィールドに表示されます。**[!UICONTROL ジャーニーを表示]**&#x200B;アイコンをクリックすると、このイベントを使用するジャーニーのリストを表示できます。

1. スキーマとペイロードのフィールドを定義します。ジャーニーが受け取るイベント情報（通常、ペイロードと呼びます）は、ここで選択します。その後、この情報をジャーニーに使うことができます。[この節](../event/about-creating-business.md#define-the-payload-fields)を参照してください。

   ![](../assets/jo-event5-business.png)

   時系列スキーマのみ使用できます。エクスペリエンスイベント、決定イベント、ジャーニーステップイベントのスキーマは使用できません。イベントスキーマには、プライマリ ID が含まれている必要があります。フィールド `_id` および `timestamp` を必要に応じて設定する必要があります。

   ![](../assets/test-profiles-4.png)

1.  「**[!UICONTROL イベント ID 条件]** 」フィールド内をクリックします。簡単な式エディターを使用して、ジャーニーをトリガーするイベントを識別するためにシステムが使用する条件を定義します。
   ![](../assets/jo-event6-business.png)

   この例では、製品の ID に基づいて条件を作成しました。つまり、システムがこの条件に一致するイベントを受け取るたびに、ジャーニーに渡されます。

   >[!NOTE]
   >
   >シンプルな式エディターでは、すべての演算子が使用できるわけではなく、データタイプに応じて異なります。 例えば、文字列タイプのフィールドには、「次を含む」または「次と等しい」を使用できます。

1. 「**[!UICONTROL 保存]**」をクリックします。

   ![](../assets/journey7-business.png)

   これでイベントが設定され、ジャーニーに含まれる準備が整いました。イベントを受信するには、追加の設定手順が必要です。[このページ](../event/additional-steps-to-send-events-to-journey-orchestration.md)を参照してください。

## ペイロードフィールドの定義 {#define-the-payload-fields}

ペイロード定義を使用すると、ジャーニーのイベントからシステムが受け取ると想定される情報と、イベントに関連付けられている人を識別するためのキーを選択できます。ペイロードは Experience Cloud XDM フィールド定義に基づいています。XDM について詳しくは、[Adobe Experience Platform のドキュメント](https://experienceleague.adobe.com/docs/experience-platform/xdm/home.html?lang=ja){target=&quot;_blank&quot;}を参照してください。

1. リストから XDM スキーマを選択し、**[!UICONTROL フィールド]**&#x200B;フィールドまたは「**[!UICONTROL 編集]**」アイコンをクリックします。

   ![](../assets/journey8-business.png)

   スキーマで定義されているすべてのフィールドが表示されます。フィールドのリストは、スキーマによって異なります。特定のフィールドを検索し、フィルターを使用してすべてのノードとフィールドを表示、または選択したフィールドのみを表示できます。スキーマ定義によっては、一部のフィールドが必須となっており、事前に選択されている場合があります。選択を解除することはできません。ジャーニーがイベントを適切に受け取るために必須のフィールドはすべて、デフォルトで選択されます。

   ![](../assets/journey9-business.png)

   >[!NOTE]
   >
   > フィールド `_id` および `timestamp` が選択されていることを確認します。

1. イベントから受け取るフィールドを選択します。これらは、ビジネスユーザーがジャーニーで活用するフィールドです。

1. 必要なフィールドの選択が完了したら、「**[!UICONTROL 保存]**」をクリックするか、**[!UICONTROL Enter]** キーを押します。

   選択したフィールドの数が「**[!UICONTROL フィールド]**」フィールドに表示されます。

   ![](../assets/journey12-business.png)

## ペイロードのプレビュー {#preview-the-payload}

ペイロードのプレビューを使用すると、ペイロード定義を検証できます。

1. 「**[!UICONTROL ペイロードを表示]**」アイコンをクリックして、システムが想定するペイロードをプレビューします。

   ![](../assets/journey13-business.png)

   選択したフィールドが表示されていることに注意してください。

   ![](../assets/journey14-business.png)

1. ペイロード定義を検証するプレビューを確認します。

1. その後、イベント送信の担当者とペイロードプレビューを共有できます。このペイロードは、[!DNL Journey Optimizer]にプッシュするイベントのセットアップを設計するのに役立ちます。[このページ](../event/additional-steps-to-send-events-to-journey-orchestration.md)を参照してください。
