---
solution: Journey Optimizer
product: journey optimizer
title: サンドボックス間でのJourney Optimizer オブジェクトのコピー
description: ジャーニー、コンテンツテンプレートおよびフラグメントをサンドボックス間でコピーする方法を説明します。
feature: Journeys, Sandboxes
topic: Content Management
role: User, Developer, Data Engineer
level: Experienced
keywords: サンドボックス, ジャーニー, コピー, 環境
source-git-commit: 62b5cfd480414c898ab6f123de8c6b9f99667b7d
workflow-type: tm+mt
source-wordcount: '1074'
ht-degree: 26%

---


# Journey Optimizer オブジェクトを別のサンドボックスにコピー {#copy-to-sandbox}

サンドボックスツールを使用すると、パッケージの書き出しと読み込みを活用して、複数のサンドボックス間でジャーニー、コンテンツテンプレート、フラグメントなどのオブジェクトをコピーできます。 パッケージは、1 つのオブジェクトまたは複数のオブジェクトで構成できます。パッケージに含まれるオブジェクトは、同じサンドボックスからのものである必要があります。

このページでは、Journey Optimizer のコンテキストにおけるサンドボックスツールのユースケースについて説明します。機能自体について詳しくは、[Experience Platform ドキュメント](https://experienceleague.adobe.com/docs/experience-platform/sandbox/ui/sandbox-tooling.html?lang=ja)を参照してください。

>[!NOTE]
>
>この機能には、**サンドボックス管理**&#x200B;機能の権限（サンドボックスの管理（またはサンドボックスの表示）とパッケージの管理）が必要です。[詳細情報](../administration/ootb-permissions.md)

コピープロセスは、ソースサンドボックスとターゲットサンドボックス間のパッケージの書き出しおよび読み込みを介して実行されます。1 つのサンドボックスから別のサンドボックスにジャーニーをコピーする一般的な手順を以下に示します。

1. パッケージとしてエクスポートするオブジェクトをソースサンドボックスに追加します。
1. パッケージをターゲットサンドボックスに書き出します。

また、Journey Optimizer の **Object Copy Service REST API** を活用すると、サンドボックスのオブジェクトを管理できます。[Object Copy Service REST API の使用方法を学ぶ](https://developer.adobe.com/journey-optimizer-apis/references/sandbox/)

## 書き出されたオブジェクトとベストプラクティス {#objects}

Journey Optimizerを使用すると、ジャーニー、コンテンツテンプレート、フラグメントを別のサンドボックスに書き出すことができます。 以降の節では、各タイプのオブジェクトに関する情報とベストプラクティスについて説明します。

### 一般的なベストプラクティス {#global}

* オブジェクトをコピーすると、依存関係（ネストされたフラグメント、ジャーニーオーディエンス、アクションなど）が親オブジェクトで正しく更新され、ターゲットサンドボックスに適切にマッピングされます。

* 書き出されたオブジェクトにプロファイルのパーソナライゼーションが含まれている場合は、パーソナライゼーションの問題を回避するために、適切なスキーマがターゲットサンドボックスに存在することを確認します。

### ジャーニー {#journeys}

* ジャーニーを書き出す際、Journey Optimizerでは、ジャーニー自体に加えて、ジャーニーに必要なオブジェクトのほとんど（オーディエンス、スキーマ、イベントおよびアクション）もコピーされます。 コピーされたオブジェクトについて詳しくは、この[節](https://experienceleague.adobe.com/docs/experience-platform/sandbox/ui/sandbox-tooling.html?lang=ja#abobe-journey-optimizer-objects)を参照してください。

* リンクされたすべての要素が宛先サンドボックスにコピーされるとは限りません。 例えば、ジャーニーを公開する前に徹底的に確認することを強くお勧めします。 これにより、欠けている可能性のあるオブジェクトを特定できます。

* ターゲットサンドボックスにコピーされたオブジェクトは一意で、既存の要素が上書きされるリスクはありません。ジャーニーとジャーニー内のあらゆるメッセージは、両方ともドラフトモードで引き継がれます。これにより、ターゲットサンドボックスで公開する前に、徹底的な検証を実行できます。

* コピープロセスでは、ジャーニーとそのジャーニー内のオブジェクトに関するメタデータのみをコピーします。プロファイルまたはデータセットのデータは、このプロセスの一環としてコピーされません。

### コンテンツテンプレート {#content-templates}

* コンテンツテンプレートを書き出す場合、ネストされたすべてのフラグメントも一緒にコピーされます。

* コンテンツテンプレートを書き出すと、フラグメントが重複する場合があります。 例えば、2 つのテンプレートが同じフラグメントを共有し、別々のパッケージにコピーされた場合、両方のテンプレートはターゲットサンドボックスで同じフラグメントを再利用する必要があります。 重複を避けるには、読み込みプロセス中に「既存を使用」オプションを選択します。 [ パッケージの読み込み方法を学ぶ ](#import)

* 重複をさらに避けるために、コンテンツテンプレートを 1 つのパッケージで書き出すことをお勧めします。 これにより、システムが重複排除を効率的に管理できるようになります。

### フラグメント {#fragments}

* フラグメントには、ライブ、ドラフト、ドラフトが進行中のライブなど、複数のステータスがあります。 フラグメントを書き出す際、最新のドラフト状態がターゲットサンドボックスにコピーされます。

* フラグメントを書き出す場合、ネストされたすべてのフラグメントも一緒にコピーされます。

## オブジェクトをパッケージとして追加{#export}

オブジェクトを別のサンドボックスにコピーするには、まずそれらをソースサンドボックスのパッケージとして追加する必要があります。 次の手順に従います。

1. ジャーニーリストなど、最初にコピーするオブジェクトが格納されているインベントリに移動します。 **その他のアクション** アイコン（オブジェクト名の横にある 3 つのドット）をクリックし、**パッケージに追加** をクリックします。

   ![](assets/journey-sandbox1.png)

1. **パッケージに追加** ウィンドウで、オブジェクトを既存のパッケージに追加するか、新しいパッケージを作成するかを選択します。

   ![](assets/journey-sandbox2.png)

   * **既存のパッケージ**：ドロップダウンメニューからパッケージを選択します。
   * **新しいパッケージを作成**：パッケージ名を入力します。説明を追加することもできます。

1. これらの手順を繰り返して、書き出すすべてのオブジェクトをパッケージに追加します。

>[!NOTE]
>
>ジャーニーの書き出しの場合、Journey Optimizerでは、ジャーニー自体に加えて、ジャーニーに必要なオブジェクトのほとんど（オーディエンス、スキーマ、イベントおよびアクション）もコピーされます。 ジャーニーの書き出しについて詳しくは、[ この節 ](../building-journeys/copy-to-sandbox.md) を参照してください。

## エクスポートするパッケージをPublishします {#publish}

パッケージを書き出す準備が整ったら、次の手順に従って公開します。

1. **[!UICONTROL 管理]**/**[!UICONTROL サンドボックス]** メニューに移動し、「**パッケージ**」タブを選択します。

1. 書き出すパッケージを開き、書き出すオブジェクトを選択して、**Publish** をクリックします。

   この例では、ジャーニー、コンテンツテンプレート、フラグメントを書き出します。

   ![](assets/journey-sandbox4.png)

1. 「**[!UICONTROL ジョブ]**」タブでパッケージの公開ステータスを追跡します。 ジョブの詳細を表示するには、リストからジョブを選択し、「**[!UICONTROL 読み込みの詳細を表示]**」ボタンをクリックします。

   ![](assets/journey-sandbox9.png)

## ターゲットサンドボックスにパッケージを読み込みます {#import}

パッケージを公開したら、ターゲットサンドボックスに読み込む必要があります。 次の手順に従います。

1. **[!UICONTROL サンドボックス]** メニューに移動し、「**[!UICONTROL 参照]** タブを選択します。

1. パッケージを読み込むサンドボックスを検索し、名前の横にある+ アイコンをクリックします。

   ![](assets/journey-sandbox5.png)

   >[!NOTE]
   >
   >組織内のサンドボックスのみ使用できます。

1. 「**ターゲットサンドボックス**」フィールドで、正しいターゲットサンドボックスが選択されていることを確認し、読み込むパッケージを **[!UICONTROL パッケージ名]** ドロップダウンリストから選択します。 「**次へ**」をクリックします。

   ![](assets/journey-sandbox6.png)

1. パッケージオブジェクトと依存関係を確認します。これは、パッケージに追加されたオブジェクトのリストです。ジャーニーは、オーディエンス、スキーマ、イベント、アクションなどの、他のオブジェクトに依存します。

   オブジェクトごとに、新しいオブジェクトを作成するか、ターゲットサンドボックスの既存のオブジェクトを使用するかを選択できます。 これにより、例えば、共通のフラグメントを使用してコンテンツテンプレートを読み込む際に発生する可能性のあるフラグメントの重複を回避できます。

   ![](assets/journey-sandbox7.png)

1. 右上隅の **完了** ボタンをクリックして、ターゲットサンドボックスへのパッケージのコピーを開始します。 コピー処理は、オブジェクトの複雑さや、コピーする必要のあるオブジェクトの数によって異なります。

1. 読み込みジョブをクリックして、コピー結果を確認します。

   * 「**インポートしたオブジェクトを表示**」ボタンをクリックして、コピーした個々のオブジェクトを表示します。
   * **インポートの詳細を表示** ボタンをクリックして、各オブジェクトのインポート結果を確認します。

   ![](assets/journey-sandbox8.png)

1. ターゲットサンドボックスにアクセスし、コピーしたすべてのオブジェクトを徹底的に確認します。
