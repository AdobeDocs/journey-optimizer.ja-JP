---
solution: Journey Optimizer
product: journey optimizer
title: プロファイルの更新
description: 「プロファイルを更新」アクティビティをジャーニーで使用する方法を学ぶ
feature: Journeys, Profiles, Activities
topic: Content Management
role: User
level: Intermediate
keywords: プロファイル, 更新, ジャーニー, アクティビティ
exl-id: 8b2b2d1e-9bd1-439d-a15e-acdbab387c4b
source-git-commit: fa46397b87ae3a81cd016d95afd3e09bb002cfaa
workflow-type: tm+mt
source-wordcount: '629'
ht-degree: 95%

---

# プロファイルの更新 {#update-profile}

>[!CONTEXTUALHELP]
>id="ajo_journey_update_profiles"
>title="プロファイルアクティビティの更新"
>abstract="「プロファイルを更新」アクションアクティビティを使用すると、イベントやデータソースから得られた情報または特定の値を使用して、既存の Adobe Experience Platform のプロファイルを更新できます。"

「**[!UICONTROL プロファイルを更新]**」アクションアクティビティを使用すると、イベントやデータソースから得られた情報または特定の値を使用して、既存の Adobe Experience Platform のプロファイルを更新できます。

## 主要概念 {#key-concepts}

* 「**プロファイルを更新**」アクションは、名前空間を持つジャーニーでのみ使用できます。
* このアクションでは、既存のフィールドのみが更新され、新しいプロファイルフィールドは作成されません。
* 「**プロファイルを更新**」アクションを使用して、購入などのエクスペリエンスイベントを生成することはできません。
* 他のアクションのように、エラーやタイムアウトの場合の代替パスを定義できます。また、2 つのアクションを並行して配置することはできません。
* Adobe Experience Platform に送信される更新リクエストは、即時もしくは 1 秒以内です。通常は数秒かかりますが、もっと時間がかかる場合もあり、保証はありません。そのため、例えば、アクションが、その直前に配置された「**プロファイルを更新**」アクションによって更新された「フィールド 1」を使用している場合、「フィールド 1」がアクションで更新されるとは限りません。
* **プロファイルを更新**&#x200B;アクティビティは、列挙または推奨値として定義された XDM フィールドをサポートしていません。
* **[!UICONTROL プロファイルを更新]** アクティビティは、[ プロファイルストア ](https://experienceleague.adobe.com/docs/experience-platform/profile/home.html?lang=ja#profile-data-store){target="_blank"} のみを更新し、データレイクは更新しません。

## データセットの選択 {#dataset-selection}

**プロファイルを更新**&#x200B;アクティビティには、更新を保存する専用のデータセットが必要です。このアクティビティは（データレイクではなく）プロファイルストアのみを更新するので、すべての更新を、**プロファイルを更新**&#x200B;アクション専用に指定されたプロファイル対応データセットに保存する必要があります。バッチまたはストリーミング取得に使用するデータセットを使用すると、新しくオンボードされたデータによって、**プロファイルを更新**&#x200B;アクションで行われた変更が上書きされます。

また、**プロファイルを更新**&#x200B;アクティビティ設定には ID 名前空間は必要ありません。そのため、選択したデータセットには、ジャーニーを開始したアクションで使用した、更新で使用する名前空間と同じ **ID 名前空間**&#x200B;を使用します。また、選択したデータセットで ID マップを使用することもできます。正しい名前空間を持つデータセットや、ID マップを使用するデータセットを選択しないと、プロファイルを更新アクティビティが失敗します。

## プロファイル更新の使用

1. ジャーニーのデザインをイベントから始めます。この[節](../building-journeys/journey.md)を参照してください。

1. パレットの「**アクション**」セクションで、「**プロファイルを更新**」アクティビティをキャンバスにドロップします。

   ![](assets/profileupdate0.png)

1. リストからスキーマを選択します。

1. 「**フィールド**」をクリックして、更新するフィールドを選択します。選択できるフィールドは 1 つだけです。

   ![](assets/profileupdate2.png)

1. リストからデータセットを選択します。

   >[!NOTE]
   >
   >「**プロファイルを更新**」アクションは、プロファイルデータをリアルタイムで更新しますが、データセットは更新されません。データセットの選択は、プロファイルがデータセットに関連するレコードであるため、必要です。

1. 「**値**」フィールドをクリックして、使用する値を定義します。

   * 簡単な式エディターを使用して、データソースまたは受信イベントからフィールドを選択できます。

     ![](assets/profileupdate4.png)

   * 特定の値を定義する場合や高度な機能を利用する場合は、「**詳細設定モード**」を選択します。

     ![](assets/profileupdate3.png)

これで、「**プロファイルを更新**」を設定できました。

![](assets/profileupdate1.png)


## テストモードの使用 {#using-the-test-mode}

テストモードでは、プロファイルの更新はシミュレートされません。更新はテストプロファイルに対して実行されます。

テストモードでは、テストプロファイルのみがジャーニーにエントリできます。新しいテストプロファイルを作成するか、既存のプロファイルをテストプロファイルに変換します。Adobe Experience Platform では、csv ファイルのインポートまたは API の呼び出しを使用してプロファイル属性を更新できます。さらに簡単な方法として、「**プロファイルを更新**」アクションアクティビティを使用し、テストプロファイルのブール値フィールドを false から true に変更します。

既存のプロファイルをテストプロファイルに変換する方法について詳しくは、[この節](../audience/creating-test-profiles.md#create-test-profiles-csv)を参照してください。
