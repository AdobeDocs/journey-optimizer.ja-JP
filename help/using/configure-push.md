---
title: プッシュ通知の設定
description: Journey Optimizer でプッシュ通知を作成する方法を説明します
source-git-commit: 55b9e5d8ed259ec6ed7746e835691d7d6261a8a4
workflow-type: ht
source-wordcount: '976'
ht-degree: 100%

---

# プッシュ通知の設定 {#create-push-notification}

![](assets/do-not-localize/badge.png)

プッシュ通知は、メッセージの作成時に「**[!UICONTROL プッシュ通知]**」タブで設定します（[メッセージの作成](create-message.md)を参照してください）。

専用タブを使用して、iOS または Android のオペレーティングシステム用にプッシュ通知の内容を設定できます。

![](assets/create-content-push.png)

## タイトルと本文

メッセージを作成するには、「**[!UICONTROL タイトル]**」フィールドと「**[!UICONTROL 本文]**」フィールドをクリックします。式エディターを使用して、コンテンツとパーソナライゼーションデータを定義します。

パーソナライゼーションの詳細については、[この節](personalization/personalize.md)を参照してください。

中央のセクションを使用すると、iOS 端末と Android 端末で表示されるプッシュ通知を視覚化できます。

>[!NOTE]
>
>「**[!UICONTROL メッセージを構成]**」セクションは、「**[!UICONTROL iOS]**」タブと「**[!UICONTROL Android]**」タブの両方に共通です。このセクションの変更は、両方のオペレーティングシステムに反映されます。

## クリック時の動作 {#on-click-behavior}

受信者がプッシュ通知の本文をクリックした場合の動作を選択します。

* 「**[!UICONTROL アプリを開く]**」オプションを使用すると、メッセージ&#x200B;**[!UICONTROL プリセット]**&#x200B;に関連付けられているアプリを開くことができます。
* 「**[!UICONTROL ディープリンク]**」オプションを使用すると、アプリケーション内の特定のコンテンツに受信者をリダイレクトできます。関連するフィールドにディープリンクを入力します。
* 「**[!UICONTROL Web URL]**」オプションを使用すると、受信者を外部の URL にリダイレクトできます。関連するフィールドに URL を入力します。

## サイレント通知の送信

サイレントプッシュ通知（バックグラウンド通知）は、アプリケーションに配信される非表示の命令です。これは、例えば、新しいコンテンツが利用可能であることをアプリケーションに通知したり、バックグラウンドでダウンロードを開始したりする場合に使用します。

「**[!UICONTROL サイレント通知]**」オプションを選択すると、アプリケーションにサイレントに通知できます。この場合、通知はアプリケーションに直接転送されます。デバイスの画面にアラートは表示されません。

「**[!UICONTROL カスタムデータ]**」セクションを使用すると、キーと値のペアを追加できます。

## 詳細オプション

**[!UICONTROL 詳細オプション]**&#x200B;を設定します。次のパラメーターを使用できます。

| パラメーター | 対応プラットフォーム | 説明 |
|---------|----------|---------|
| **[!UICONTROL 折りたたみ可能]** | iOS／Android | 折りたたみ可能なメッセージとは、新しいメッセージに置き換えられる可能性のあるメッセージです。例えば、あるトピックに関する最新のニュースをユーザーに知らせるようなアプリケーションです。この場合、重要なのは最新のメッセージだけです。一方、折りたたみが不可能なメッセージは、クライアントアプリにとってすべてのメッセージが重要であり、配信する必要があるものです。 |
| **[!UICONTROL カスタムサウンド]** | iOS／Android | 通知を受け取ったときにモバイル端末が再生するサウンド。サウンドは、アプリにバンドルされている必要があります。 |
| **[!UICONTROL バッジ]** | iOS／Android | バッジは、新しい未読情報の数をアプリケーションアイコンに直接表示するために使用します。<br/>バッジの値は、ユーザーがアプリケーションで新しいコンテンツを開いたり読んだりするとすぐに消えます。デバイスで通知を受け取ると、関連アプリのバッジ値を更新したり追加したりできます。<br/>例えば、顧客の未読記事の数を保存している場合、パーソナライズ機能を利用して、顧客ごとに未読記事の固有のバッジ値を送信できます。パーソナライゼーションの詳細については、[この節](personalization/personalize.md)を参照してください。 |
| **[!UICONTROL 通知グループ]**／ | iOS | 通知グループをプッシュ通知に関連付けます。<br/>iOS 12 以降は、通知グループを使用すると、メッセージスレッドと通知トピックをスレッド ID に統合できます。例えば、あるブランドでは、1 つのグループ ID でマーケティング通知を送信すると同時に、1 つ以上の異なる ID で、より多くの運用に関する通知を送信することができます。<br/>例を挙げると、groupID：123 「セーターの新しい春のコレクションをチェックしてください」と groupID：456 「あなたのパッケージが配達されました」という通知グループを設定できます。この例では、すべての配達通知はグループ ID：456 の下にバンドルされます。 |
| **[!UICONTROL 通知チャネル]** | Android | プッシュ通知に通知チャネルを関連付けます。<br/>Android 8.0（API レベル 26）以降では、表示するすべての通知をチャネルに割り当てる必要があります。詳しくは、[Android 開発者向けドキュメント](https://developer.android.com/guide/topics/ui/notifiers/notifications#ManageChannels)を参照してください。 |
| **[!UICONTROL コンテンツ可用性フラグの追加]** | iOS | プッシュ通知を受け取ると（アプリがペイロードデータにアクセスできるようになると）すぐにアプリを起動し、コンテンツ利用可能フラグをプッシュペイロードで送信します。<br/>この機能は、アプリがバックグラウンドで実行されていて、ユーザーからの操作（プッシュ通知のタップなど）がない場合でも動作しますが、アプリが実行されていない場合は動作しません。詳しくは、[Apple 開発者向けドキュメント](https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CreatingtheNotificationPayload.html)を参照してください。 |
| **[!UICONTROL 可変コンテンツフラグの追加]** | iOS | プッシュペイロードに可変コンテンツフラグを送信し、iOS SDK で提供される通知サービスアプリケーション拡張機能によって、プッシュ通知の内容を変更できるようにします。詳しくは、[Apple 開発者向けドキュメント](https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ModifyingNotifications.html)を参照してください。<br/>その後、モバイルアプリの拡張機能を利用して、[!DNL Journey Optimizer] から送信される着信プッシュ通知の内容や表示をさらに変更できます。このオプションを使用すると、データの解読、通知の本文やタイトルテキストの変更、通知へのスレッド ID の追加などをおこなうことができます。 |
| **[!UICONTROL 通知の表示]** | Android | プッシュ通知の表示を定義します。<b>プライベート</b>に設定すると、すべてのロック画面に通知が表示されますが、保護されたロック画面では機密情報やプライベートな情報を非表示にします。<b>パブリック</b>に設定すると、すべてのロック画面に通知全体を表示します。<b>シークレット</b>に設定すると、保護されたロック画面に通知を一切表示しません。詳しくは、[Android 開発者向けドキュメント](https://developer.android.com/reference/android/app/Notification)を参照してください。 |
| **[!UICONTROL 通知の優先度]** | Android | プッシュ通知の重要度を「低」から「最高」まで定義します。プッシュ通知が配信された際の、プッシュ通知の「割り込み」の度合いを決定します。詳しくは、[Android 開発者向けドキュメント](https://developer.android.com/guide/topics/ui/notifiers/notifications#importance)を参照してください。 |
| **[!UICONTROL 配信の優先順位]** | Android | プッシュ通知の優先度を「高」または「通常」に設定します。メッセージの優先度の詳細については、[Google 開発者向けドキュメント](https://firebase.google.com/docs/cloud-messaging/concept-options#setting-the-priority-of-a-message)を参照してください。 |

## カスタムデータ

**[!UICONTROL カスタムデータ]**&#x200B;セクションでは、モバイルアプリケーションの設定に応じて、ペイロードにカスタム変数を追加できます。Adobe Experience Platform と Adobe Launch でのプッシュ通知の設定方法の詳細については、[この節](push-configuration.md)を参照してください。

