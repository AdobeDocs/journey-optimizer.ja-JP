---
product: experience platform
solution: Experience Platform
title: 自動最適化モデル
description: 自動最適化モデルについて詳しくは、
feature: Ranking Formulas
role: User
level: Intermediate
exl-id: a85de6a9-ece2-43da-8789-e4f8b0e4a0e7
source-git-commit: c530905eacbdf6161f6449d7a0b39c8afaf3a321
workflow-type: tm+mt
source-wordcount: '1377'
ht-degree: 0%

---

# 自動最適化モデル {#auto-optimization-model}

自動最適化モデルの目的は、ビジネスクライアントによって設定された返品 (Kpi) を最大化する機能を提供することです。 このような Kpi は、変換レートや収益などの形式である可能性があります。 この時点で、自動最適化は、オファーによってターゲットとして提供されるクリックを最適化することを中心としています。 自動最適化はパーソナライズされていないので、「グローバル」のパフォーマンスを基準として最適化されています。

## 限界 {#limitations}

意思決定管理に自動最適化モデルを使用する場合は、次のような制限が適用されます。

* 自動最適化モデルは、Batch Decisioning API では使用できません。
* 構築モデルに必要なフィードバックは、では操作として送信する必要があります。 この機能は、自動的にはチャネルに [!DNL Journey Optimizer] 送信されません。

## 表現 {#terminology}

以下の用語は、自動最適化について説明する場合に便利です。

* **マルチ装備** : 複数の機能が搭載された「この機能は、_blank 複数 ](https://en.wikipedia.org/wiki/Multi-armed_bandit) の機能があります。この方法では、最適化に対する試験的な学習と悪用の活用について、 [ このアプローチを採用しています。

* **Thomson サンプリング** : Thompson サンプリングは、オンラインでの意思決定の問題についてのアルゴリズムで、当面のパフォーマンスを最大化し、将来のパフォーマンスを向上させる可能性がある新しい情報を蓄積するために投資することはできません。 [詳細情報](#thompson-sampling)

* [**Β分布** ](https://en.wikipedia.org/wiki/Beta_distribution) {target = &quot;_blank&quot;}: 間隔 [ 0、_blank 1 ](https://en.wikipedia.org/wiki/Statistical_parameter) [ ] の値を指定した場合は {target = &quot;_blank&quot;} のように定義されています。この場合、2つの正 [ の [ ](https://en.wikipedia.org/wiki/Probability_distribution) シェイプパラメーター ](https://en.wikipedia.org/wiki/Shape_parameter) {target = &quot;_blank&quot;} によって定義されます。

## Thompson サンプリング {#thompson-sampling}

自動最適化の基礎となるアルゴリズムは Thompson サンプリング **に** なります。この節では、Thompson サンプリングの背景にある intuition について説明します。

[Thompson サンプリング ](https://en.wikipedia.org/wiki/Thompson_sampling) {target = &quot;_blank&quot;}、または Bayesian bandits は、マルチ武装の問題に対する Bayesian のアプローチです。  この基本的なアイデアは、平均の報奨を扱います。各オファーからランダムな **変数** を使用して、これまでに収集したデータを使用して、平均特典についての &quot;信念&quot; を更新しました。 このような &quot;信念&quot; は、plausibility または確率分布 **によって** 数学的に計算されます。これは、平均特典を設定するための値の範囲です。また、このような値が各オファーに設定されていることを示します。次に、すべての意思決定について、これらのポスト eriまたは報酬配布 **の1点をサンプリングし、サンプリングさ** れた報酬に最高の価値があるものを選択します。

この処理を次の図に示します。ここでは、3種類の異なるオファーを示します。 最初はデータからの証拠はありません。すべての製品には一様な posterior は報酬流通が含まれています。 各オファーの posterior 報酬配布からサンプルを作成します。 「オファー2」のディストリビューションから選択されたサンプルには、最高の値が設定されています。 ここでは、偵察 **の** 例を示します。オファー2が表示された後、次に説明するように、潜在的な報酬 (変換/非変換など) がすべて収集され、Bayes ピタゴラスを使用してオファー2の posterior ディストリビューションが更新されます。  ここでは、オファーが表示され、報酬が収集されるたびに、この処理を継続して、ポストパッケージを更新します。 第2の図では、オファー3が選択されています。この場合、平均報奨が高いとしても (posterior は、最も遠い確率が一番右になる)、各ディストリビューションからのサンプリングによって、非常に非最適なオファーが選択されています。 そのため、ここでは、3の真のメリットの配布について詳しく学習することができます。

さらに多くのサンプルが収集されると、自信が高くなり、より正確な報酬が得られます (これによって、狭い報酬ディストリビューションになります)。より多くの証拠が利用可能になったときに beliefs を更新するこのプロセスは、Bayesian 推定 **と** 呼ばれます。

1つの申し出 (例えば、オファー 1) がはっきりとしたものである場合は、posterior の配布物が他のユーザーから分離されます。 この時点で各決定について、「特典1」からのサンプル報酬が最も大きくなります。これは、高い確率で選択されると考えられます。 これは悪用 **され** ています。これは、1が最善であるという強い信念があるので、報奨を最大化することが選択されていることを示します。

![](../assets/ai-ranking-thompson-sampling.png)

**図 1** : *すべての決定について、ポスト eriまたは報酬配布によって指摘されています。 最高のサンプル値を使用した申し出 (変換レート) が選択されます。 最初の段階では、データから提供されるオファーの変換レートについての証拠がないので、すべての特典が一様に配布されます。 より多くのサンプルが収集されると、posterior ディストリビューションは幅が狭くなり、精度が高くなります。 最終的に、最も高い変換レートで表示されるようになります。*

<!--
![](../assets/ai-ranking-thompson-sampling-initial.png)
![](../assets/ai-ranking-thompson-sampling-intermediate.png)
![](../assets/ai-ranking-thompson-sampling-ultimate.png)
-->

+++**技術的な詳細**

配分の計算や更新を行うには、Bayes ピタゴラス **を使用** します。各オファーリング ****** については、* * * P (??i |データ) * * *、各オファーリング ****** については、どのようなメリット **がありますか??私** は、これまでに収集したデータを使用して提供しています。

Bayes ピタゴラスから:

***Posterior = 尤度 * 前***

**前の確率** は、出力が生成される確率を最初に推定した値です。一部の証拠が収集された後の確率は、posterior probability **と** 呼ばれます。

自動最適化は、2進報奨を考慮して設計されています (「/なし」をクリックします)。 この場合、尤度は N 試行の成功回数を表し、二項分布 **でモデル化されて** います。いくつかの尤関数については、前のように指定した場合に、1つ前のものを選択すると、posterior end になります。 そのような場合は、「共役前 **に共役」と呼ば** れます。このタイプの前に、posterior distribution の計算が非常にシンプルになります。 **Β確率 (2 進数報奨) よりも前の共役は、ベータ版** ではありません。これは、前のディストリビューション、posterior は probability の分布にとって便利かつ合理的な選択肢です。ベータ版ディストリビューションには、 ***α*** と ***β*** の2つのパラメーターがあります。これらのパラメーターは、成功と失敗の数および次の値を持つ平均値と見なすことができます。

![](../assets/ai-ranking-beta-distribution.png)

上で説明したように、尤度関数は二項分布によってモデル化されています。これには、成功 (換算) および f 失敗 (変換されません) があります。 q は [ 、ベータディストリビューション ](https://en.wikipedia.org/wiki/Beta_distribution) {target = &quot;_blank&quot;} を含む [ ランダム変数 ](https://en.wikipedia.org/wiki/Random_variable) {target = &quot;_blank&quot;} です。

前のは、ベータ版によってモデル化され、posterior ディストリビューションの形式は次のとおりです。

![](../assets/ai-ranking-posterior-distribution.svg)

Posterior は、α ***、*** β ***の既存のパラメーター*** に、成功と失敗の数を追加するだけで計算されます。

上記の例に示すように、自動最適化については、すべてのサービスについて以前の配布 ***ベータ (1, 1)*** (一様分布) を表示します。また、オファーに対して成功と失敗が発生した場合は、そのオファーについてパラメーター ***(s + α, f + β)*** でベータ配布されます。
+++

**関連トピック** :

Thompson サンプリングの詳細について詳しくは、次の研究論文を参照してください。
* [Thompson ](https://proceedings.neurips.cc/paper/2011/file/e53a0a2978c28872a4505bdb51db06dc-Paper.pdf) の実験を体験するには、{target = &quot;_blank&quot;} のようにします。
* [Thompson の問題 ](http://proceedings.mlr.press/v23/agrawal12/agrawal12.pdf) についての解析 (ターゲット = &quot;_blank&quot;})

## コールド起動の問題 {#cold-start}

&quot;コールドスタート&quot; 問題は、新規オファーがキャンペーンに追加されたときに発生します。また、この新しいオファーの変換レートに関するデータがありません。 この期間中に、この新しいオファーが最小化される頻度に関する方針を考案し、この新製品の変換レートに関する情報を収集することになります。 この問題に対処するには、複数のソリューションが用意されています。 重要なのは、このような新しい申し出の調査の間で、悪用を犠牲にせずに、バランスを考慮することです。 現在のところ、新製品の変換レート (以前のディストリビューション) については、最初に「一様な分布」が使用されています。 基本的には、すべての変換レート値が等価の発生確率となります。


![](../assets/ai-ranking-cold-start-strategies.png)

**図 2** : *キャンペーンに3つの特典が含まれているとします。 キャンペーンがライブの間は、キャンペーンにオファー4が追加されます。 最初は、オファー4の変換レートに関するデータはありません。また、コールドスタートの問題に対処する必要があります。 オファー4の変換レートについては、この新しいオファーのデータを収集します。 Thompson サンプリング ](#thompson-sampling) セクションで [ 説明したように、ユーザーに表示される特典を選択するには、オファーの posterior 報奨ディストリビューションによってサンプルポイントを作成し、最高のサンプル値を使用してこのオファーを選択します。上の例では、オファー4が選択されており、それ以降、収集された報酬に基づいて、このオファーの posterior 流通が Thompson サンプリング ](#thompson-sampling) セクションで [ 説明されているように更新されます。*

## 揚力の測定 {#lift}

「リフト」とは、基準として、ランク付けサービスに展開された戦略のパフォーマンスを測定するために使用されるメートル法です (ベースラインとしては、ランダムに提供される機能になります)。

例えば、ランク付けサービスにおいて使用されている Thompson サンプリング (TS) 戦略と、その KPI が変換レート (CVR) の場合は、次のように、ベースライン方針に対する TS 戦略の「揚力」が定義されています。

![](../assets/ai-ranking-lift.png)
