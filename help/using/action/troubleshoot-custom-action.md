---
solution: Journey Optimizer
product: journey optimizer
title: カスタムアクションのテスト
description: カスタムアクションのトラブルシューティング方法を学ぶ
badge: label="限定提供"
feature: Journeys, Actions, Custom Actions
topic: Administration
role: Data Engineer, Data Architect, Admin
level: Experienced
keywords: アクション, サードパーティ, カスタム, ジャーニー, API
source-git-commit: 5ce76bd61a61e1ed5e896f8da224fc20fba74b53
workflow-type: tm+mt
source-wordcount: '457'
ht-degree: 3%

---


# カスタムアクションのトラブルシューティング {#troubleshoot-a-custom-action}

>[!AVAILABILITY]
>
>この機能は、一連の組織でのみ使用できます（使用制限あり）。 アクセスするには、アドビ担当者にお問い合わせください。
>

## 概要

**テストリクエストの送信** 機能を使用すると、管理者は、Adobe Journey Optimizer（AJO）から直接実際の API 呼び出しを行うことで、カスタムアクション設定を検証できます。 この機能により、ジャーニーで使用する前に、リクエスト構造、ヘッダー、認証およびペイロードが正しくフォーマットされます。

![](assets/send-test-request.png){width="70%" align="left"}

## 前提条件

- **管理者アクセスが必要：**
   - ユーザーには **ジャーニーイベント、データソース、アクションの管理」権限が必要** す。
   - この権限は *ジャーニー管理者* の役割に含まれています。
   - **ジャーニーイベントの表示…」** 権限だけでは不十分です。
- **カスタムアクション** には、URL、ヘッダー、認証設定を事前に指定する必要があります。

## テストリクエスト送信機能の使用方法

1. **カスタムアクション** 設定画面に移動します。
1. 「**テストリクエストを送信」** ボタンをクリックします。
1. ポップアップウィンドウが表示され、リクエストパラメーターを指定できます。
   - **カスタムアクションメソッドがGET** の場合、ペイロードは必要ありません。
   - **カスタムアクションメソッドが POST** の場合、JSON ペイロードを指定する必要があります。

     >[!NOTE]
     >
     >この JSON の構造が正しくない場合、AJOはエラーを生成しますが、データタイプと不一致がある場合は生成されません。 例えば、文字列であるべきものに整数パラメーターが使用されている場合、エラーは発生しません。

   - 認証が定義されている場合は、認証の詳細を入力するように求められます。

1. 「**送信**」をクリックしてリクエストを実行します。
1. ヘッダーやステータスコードなど、API からの応答がインターフェイスに表示されます。

## 認証処理

カスタムアクションに認証が含まれる場合、AJOでは、各テストリクエストの認証の詳細を入力するようにユーザーに求められます。

- **基本認証：** ユーザーは *パスワード* を指定する必要があります。
- **API キー認証：** ユーザーは、API キー *値* を入力する必要があります。
- **カスタム認証：** ユーザーは、リクエスト *bodyParam* で認証パラメーターを指定する必要があります。 この場合、完了する必要がある 2 つのセクションを追加します。**認証リクエスト** と **認証応答** です。

## 外部テストツール（Postmanなど）との主な違い

- テストリクエストは、**AJO ジャーニー** によって実行されます。つまり、
   - 正確なリクエスト構造（AJO固有のヘッダーを含む）が使用されます。
   - ソース IP とヘッダーは、ライブジャーニーで使用される IP とヘッダーに一致します。
- カスタムアクションが既にデプロイされている **ライブジャーニー** のトラブルシューティングに使用できます。
- ツール間で設定の詳細を手動でコピーする必要がなくなり、エラーのリスクが軽減されます。

## トラブルシューティング

- リクエストが失敗した場合は、次を確認します。
   - テストに入力された認証資格情報。
   - リクエストメソッド（GETと POST）および対応するペイロード。
   - カスタムアクションで定義される API エンドポイントとヘッダー。
- 応答データを使用して、潜在的な設定ミスを特定します。

この機能により、テストおよび検証プロセスが合理化され、ライブ AJO ジャーニーでカスタムアクションが正しく機能するようになります。

