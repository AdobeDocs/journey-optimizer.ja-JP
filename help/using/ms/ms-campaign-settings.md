---
solution: Journey Optimizer
product: journey optimizer
title: マルチステップキャンペーン設定の指定
description: Adobe Journey Optimizerで複数手順のキャンペーンを設定する方法を学ぶ
hide: true
hidefromtoc: true
exl-id: a9bb3782-a4d1-43fe-ae2a-aef3f17ba588
source-git-commit: 323472ef9d6203cbbadc44ceb17ddcc7f6207323
workflow-type: tm+mt
source-wordcount: '1082'
ht-degree: 41%

---

# マルチステップキャンペーン設定の指定 {#workflow-settings}

>[!CONTEXTUALHELP]
>id="ajo_workflow_creation_properties"
>title="マルチステップキャンペーンプロパティ"
>abstract="この画面では、マルチステップキャンペーンの作成に使用するテンプレートを選択し、ラベルを指定します。「**その他のオプション**」セクションを展開して、マルチステップキャンペーンの内部名、フォルダー、タイムゾーン、スーパーバイザーグループなどの詳細設定を行います。エラーが発生した場合にオペレーターに警告できるように、スーパーバイザーグループを選択することを強くお勧めします。"

複数ステップのキャンペーンを作成する場合や、キャンバスで複数ステップのキャンペーンアクティビティを調整する場合、複数ステップのキャンペーンに関連する詳細設定にアクセスできます。 例えば、複数手順キャンペーンの特定のタイムゾーンを設定したり、エラーが発生した場合の複数手順キャンペーンの動作を管理したり、複数手順キャンペーンの履歴をパージする遅延時間を管理したりできます。

これらの設定は、マルチステップキャンペーンの作成時に選択したテンプレートで事前に設定されていますが、この特定のマルチステップキャンペーンの必要に応じて編集できます。

![](assets/workflow-settings-button.png){zoomable="yes"}{width="70%" align="left"}

## マルチステップキャンペーンプロパティ {#properties}

>[!CONTEXTUALHELP]
>id="ajo_workflow_settings_properties"
>title="マルチステップキャンペーンプロパティ"
>abstract="このセクションでは、マルチステップキャンペーンの作成時にもアクセスできる一般的なマルチステップキャンペーンプロパティを提供します。マルチステップキャンペーンの作成に使用するテンプレートを選択し、ラベルを指定できます。「その他のオプション」セクションを展開して、マルチステップキャンペーン保存フォルダーやタイムゾーンなどの特定の設定を指定します。"

**[!UICONTROL プロパティ]** セクションには、複数手順のキャンペーンを作成する際に設定できる一般的な設定が用意されています。 既存の複数手順キャンペーンのプロパティにアクセスするには、複数手順キャンペーンキャンバスの上のアクションバーにある「**[!UICONTROL 設定]**」ボタンをクリックします。


![](assets/workflow-settings.png){zoomable="yes"}{width="70%" align="left"}


これらのプロパティは次のとおりです。

* リストに表示される複数手順キャンペーンの **[!UICONTROL ラベル]**。
* 複数手順キャンペーンの **[!UICONTROL 内部名]**。
* 複数手順キャンペーンを保存する **[!UICONTROL フォルダー]**。
* 複数手順キャンペーンのすべてのアクティビティで使用するデフォルトの **[!UICONTROL タイムゾーン]**。 デフォルトでは、現在の Campaign オペレーターに定義されたタイムゾーンが複数手順キャンペーンのタイムゾーンになります。
使用可能な値：
   * **サーバータイムゾーン**:Adobe Experience Platform組織のタイムゾーンを使用します
   * **オペレータータイムゾーン** – 複数手順キャンペーンを実行するオペレーターのタイムゾーンを使用します
   * **データベースのタイムゾーン**：データベースサーバーのタイムゾーンを使用します
   * 特定のタイムゾーン
* 複数手順のキャンペーンが失敗すると、「**[!UICONTROL スーパーバイザー]**」フィールドで選択したオペレーターグループに属するオペレーターにメールで通知されます。
* また、複数ステップのキャンペーンの **[!UICONTROL 説明]** を入力することもできます。

## セグメント化の設定  {#segmentation-settings}

>[!CONTEXTUALHELP]
>id="ajo_workflow_settings_segmentation"
>title="セグメント化の設定"
>abstract="このセクションでは、マルチステップキャンペーンでプロファイルをターゲットにするターゲティングディメンションを選択し、2 回の実行の間にワークフローの結果を保持するように選択できます。このオプションは、テスト目的でのみ使用し、実稼動マルチステップキャンペーンでは絶対に有効にしないでください。"

* **[!UICONTROL ターゲティングディメンション]**：プロファイルのターゲットに使用するターゲティングディメンションを受信者、契約の受益者、オペレーター、サブスクライバーなどから選択します。

* **[!UICONTROL 2 つの実行間の中間母集団の結果を保持]**: デフォルトでは、複数ステップのキャンペーンの最後の実行の作業用テーブルのみが保持されます。 それ以前に実行した分のワークテーブルは、毎日実行される技術的なマルチステップキャンペーンによりパージされます。

  このオプションを有効にした場合、作業用テーブルは、複数ステップのキャンペーンが実行された後も保持されます。 テスト目的で使用できるので、開発環境またはステージング環境で&#x200B;**のみ**&#x200B;使用する必要があります。実稼動複数ステップのキャンペーンでは絶対にオンにしないでください。

## 実行設定  {#exec-settings}

>[!CONTEXTUALHELP]
>id="ajo_workflow_settings_execution"
>title="実行設定"
>abstract="このセクションでは、マルチステップキャンペーンの履歴を保持する日数など、ワークフローの実行に関する設定を指定できます。"

* **[!UICONTROL 履歴（日数）]**：履歴をパージする必要があるまでの日数を指定します。履歴には、ログ、タスク、イベント（複数手順のキャンペーン操作にリンクされた技術的なオブジェクト）など、複数手順のキャンペーンに関連する要素が含まれます。 標準のマルチステップのキャンペーンテンプレートのデフォルト値は 30 日です。 履歴のパージは、デフォルトで毎日実行されるデータベースクリーンアップテクニカルマルチステップキャンペーンによって実行されます

  >[!IMPORTANT]
  >
  >「**[!UICONTROL 履歴（日数）]**」フィールドが空白のままの場合、その値は「1」と見なされます。つまり、履歴は 1 日後にパージされます。

* **[!UICONTROL デフォルトのアフィニティ]**：インストールに複数の複数手順の Campaign サーバーが含まれる場合、このフィールドを使用して、複数手順の Campaign が実行されるサーバーを指定します。 これにより、特定のサーバーで複数の手順からなるキャンペーンを強制的に実行します。 既存のアフィニティ名を選択できますが、スペースや句読点を使用しないようにしてください。異なるサーバーを使用する場合は、異なる名前をコンマで区切って指定します。

  >[!IMPORTANT]
  >
  >このフィールドで定義した値がどのサーバーにも存在しない場合、複数手順キャンペーンは保留されたままになります。


* **[!UICONTROL SQL クエリをログに保存]**:workflmulti-step キャンペーンからの SQL クエリをログに保存する場合は、このオプションをオンにします。 この機能を設定できるのは上級ユーザーに限られます。**[!UICONTROL オーディエンスの作成]** などのターゲティングアクティビティを含んだ複数手順のキャンペーンに適用されます。 このオプションを有効にすると、複数手順のキャンペーンの実行中にデータベースに送信される SQL クエリが複数手順のキャンペーンのログに表示され、クエリを分析して最適化したり問題を診断したりできます。

## エラー管理設定  {#error-settings}

>[!CONTEXTUALHELP]
>id="ajo_workflow_settings_error"
>title="エラー管理設定"
>abstract="このセクションでは、マルチステップキャンペーンで実行中のエラーを管理する方法を定義できます。プロセスの一時停止、一定数のエラーの無視またはマルチステップキャンペーンの実行の停止を選択できます。"

* **[!UICONTROL エラー管理]**：このフィールドでは、複数ステップのキャンペーンタスクでエラーが発生した場合に行うアクションを定義できます。 次の 3 つのオプションが使用可能です。

   * **[!UICONTROL プロセスを中断]**：複数ステップのキャンペーンは自動的に一時停止され、ステータスは **[!UICONTROL 失敗]** に変わります。 問題が解決したら、「再開 **[!UICONTROL ボタンを使用して、複数ステップのキャンペーンを再開]** ます。
   * **[!UICONTROL 無視]**：エラーをトリガーしたタスクのステータスは「**[!UICONTROL 失敗]**」に変わりますが、複数ステップのキャンペーンのステータスは「**[!UICONTROL 開始済み]** のままです。<!-- TO ADD ONCE SCHEUDLER IS AVAILABLE This configuration is relevant for recurring tasks: if the branch includes a scheduler, it will start normally next time the workflow is executed.-->
   * **[!UICONTROL プロセスを中止]**：複数手順のキャンペーンは自動的に停止し、ステータスは **[!UICONTROL 失敗]** に変わります。 問題が解決したら、「開始 **[!UICONTROL ボタンを使用して複数ステップのキャンペーンを再開]** ます。

* **[!UICONTROL 連続エラー]**：このフィールドは、「**[!UICONTROL エラーの場合]**」フィールドで「**[!UICONTROL 無視]**」の値が選択されたときに有効になります。プロセスを停止するまでに無視するエラーの数を指定できます。この数に達すると、複数手順のキャンペーンのステータスが **[!UICONTROL 失敗]** に変わります。 このフィールドの値が 0 の場合、エラーの数に関係なく、複数手順キャンペーンは停止しません。

## 初期化スクリプト {#initialization-script}

**初期化スクリプト**&#x200B;では、変数を初期化したり、アクティビティのプロパティを変更したりできます。「**コードを編集**」ボタンをクリックし、実行するコードのスニペットを入力します。このスクリプトは、複数手順キャンペーンの実行時に呼び出されます。 詳しくは、[イベント変数](event-variables.md)に関連する節を参照してください。
