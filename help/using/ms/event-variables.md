---
solution: Journey Optimizer
product: journey optimizer
title: 複数手順キャンペーンでのイベント変数の操作
description: 複数手順のキャンペーンでイベント変数を活用する方法を学ぶ
hide: true
hidefromtoc: true
exl-id: f86dd262-0209-42f6-a180-736f1de98d78
source-git-commit: 271c4739a5537a99da981913606bc9eb099b5139
workflow-type: tm+mt
source-wordcount: '303'
ht-degree: 64%

---

# イベント変数の操作 {#event-variables}

一部の複数ステップのキャンペーンアクティビティでは、式エディターでスクリプトを編集して、以前のアクティビティからのデータの取得、条件の作成、イベント変数に基づくファイル名の計算などの特定のアクションを実行できます。

## イベント変数とは {#scripting}

複数手順キャンペーンのコンテキストで実行されるスクリプトは、一連の追加のグローバル **オブジェクト** 実行される複数手順キャンペーン自体（`ìnstance`）、その様々なタスク（`task`）、特定のタスクをアクティブ化したイベント（`event`）など）にアクセスします。

各タイプの&#x200B;**オブジェクト**&#x200B;には、**[!UICONTROL JavaScript コード]**&#x200B;や&#x200B;**[!UICONTROL テスト]**&#x200B;などのアクティビティでスクリプトを編集する際に式エディターで利用できる&#x200B;**変数**&#x200B;のカテゴリが関連付けられます。

* **インスタンス変数**（`instance.vars.xxx`）は、グローバル変数に相当します。この変数はすべてのアクティビティで共有されます。
* **タスク変数**（`task.vars.xxx`）は、ローカル変数に相当します。現在のタスクのみが使用します。この変数は、永続的なアクティビティでデータの維持に使用されるほか、同じアクティビティの異なるスクリプト間でデータを交換する場合に使用されることもあります。
* **イベント変数** （`vars.xxx`）を使用すると、複数手順のキャンペーンプロセスのエレメンタリタスク間でデータを交換できます。 この変数は、進行中のタスクを有効化したタスクによって渡されます。その後、次のアクティビティに渡されます。**イベント変数**&#x200B;は最も使用されることの多い変数です。インスタンス変数より優先して使用することをお勧めします。

## 式エディターでのイベント変数の活用 {#expression-editor}

定義済みのイベント変数は、式エディターの左側のパネルで使用できます。また、コード内で新しい変数を初期化して、新しい変数を作成することもできます。

![](assets/event-variables.png)

これらのイベント変数に加えて、左側のパネルの&#x200B;**[!UICONTROL 条件]**&#x200B;メニューを利用して条件を作成したり、**[!UICONTROL 現在の日付を追加]**&#x200B;メニューを利用して日付の書式設定に関連する関数を使用したりすることもできます。
