---
solution: Journey Optimizer
product: journey optimizer
title: よくある質問
description: ライブアクティビティに関するよくある質問
topic: Content Management
role: User
level: Beginner
hide: true
hidefromtoc: true
source-git-commit: ce6bfca78d097588b5958c10c721b29b7013b3e2
workflow-type: tm+mt
source-wordcount: '1603'
ht-degree: 1%

---

# よくある質問 {#mobile-live-faq}

>[!BEGINSHADEBOX]

* [ライブアクティビティの基本を学ぶ](get-started-mobile-live.md)
* [ライブアクティビティ設定](mobile-live-configuration.md)
* [Adobe Experience Platform Mobile SDKとライブアクティビティの統合](mobile-live-configuration-sdk.md)
* [ライブアクティビティの作成](create-mobile-live.md)
* **[よくある質問](mobile-live-faq.md)**
* [ライブアクティビティキャンペーンレポート](../reports/campaign-global-report-cja-activity.md)

>[!ENDSHADEBOX]

## 一般的な質問

+++ライブアクティビティとプッシュ通知の違いは何ですか。

ライブアクティビティは、ユーザーがデバイスのロックを解除しなくても、ロック画面と Dynamic Island で永続的なリアルタイム更新を提供します。 プッシュ通知は、閉じると表示されなくなる一時的なアラートです。 ライブアクティビティは表示され続け、明示的に終了するまで複数回更新できます。

+++

+++一度にアクティブにできるライブアクティビティの数

iOS アプリでは、複数のライブアクティビティを同時に実行できます。これには、同じ `ActivityAttributes` タイプを使用するアクティビティも含まれます。

特定の属性タイプのライブアクティビティの数に開発者が課すハードリミットはありません。 実行中の配信やライドごとに 1 つなど、アプリロジックに必要な数だけ開始できます。 ただし、iOSでは、一度にアクティブまたは表示可能なライブアクティビティの数に関するシステムレベルの制限が適用されます。

実際の動作：

* iOSは通常、1 つのアプリにつき最大 5 つの同時ライブアクティビティをサポートします。

* この数を超えると、システムは一部のアクティビティの表示を停止したり、リソースを節約するために古いアクティビティを終了させたりする可能性があります。

* 各ライブアクティビティには一意の `Activity.id` があります。これにより、個別に更新または終了できます。

+++

+++ユーザーがライブアクティビティのアップデートを受け取るには、アプリを開く必要がありますか？

いいえ。ライブアクティビティは、アプリが完全に閉じられている場合でも、リモートで開始、更新、終了できます。これは、この機能の主なメリットの 1 つです。

+++

+++ライブアクティビティをサポートしているiOSのバージョンは何ですか？

* iOS 16.1 以降：基本的なライブアクティビティサポート
* iOS 17.2 以降：プッシュトゥスタート機能（アプリを開かずにリモートで開始）
* iOS 18 以降：オーディエンスベースのライブアクティビティのブロードキャストチャネルのサポート
+++

+++ライブアクティビティは、どれくらいの間アクティブなままにできますか？

Appleでは、ライブアクティビティを **8 時間のアクティブな更新** に制限しています。 その後、システムによってアクティビティが自動的に終了しますが、削除されるまで最大 **12 時間** 静的な状態で表示されたままになる場合があります。 `dismissalDate` を設定するか、アプリで `activity.end()` を明示的に呼び出すことで、ライブアクティビティをより早く終了することもできます。

+++

### 開発者の質問

+++ライブアクティビティ用に別のウィジェット拡張機能を作成する必要はありますか？

はい。ライブアクティビティは WidgetKit を通じて表示されるので、Xcode プロジェクトにウィジェット拡張機能を作成して `ActivityConfiguration` を実装する必要があります。
[ ウィジェット設定の詳細情報 ](mobile-live-configuration-sdk.md)

+++

+++ローカルとリモートの両方のライブアクティビティに同じ `LiveActivityAttributes` クラスを使用できますか？

はい。同じ属性クラスは、ローカルで開始されたライブアクティビティとリモートで開始された（プッシュトゥスタート）ライブアクティビティの両方で機能します。 `Messaging.registerLiveActivity()` に登録していることを確認する必要があります。

+++

+++存在しないライブアクティビティの更新を送信するとどうなりますか？

存在しない `liveActivityID` または `channelID` に対して更新または終了イベントを送信すると、リクエストはデバイスでサイレントに失敗します。 各ユーザーに対してアクティブなライブアクティビティを常に追跡するようにしてください。

+++

+++iOS シミュレーターでライブアクティビティをテストできますか？

はい。ローカルで開始したライブアクティビティとリモートで開始したライブアクティビティを、iOS シミュレーターでテストできます。

* **ローカル**：これには、**ActivityKit API** を使用してアプリから直接ライブアクティビティを作成、更新、終了することが含まれます。

* **リモート**：ライブアクティビティの機能をリモートでテストするには、Messaging SDKをアプリに統合し、提供されている実行 API を使用して、テストデバイスまたはiOS シミュレーターにリモートで開始、更新、終了します。 Adobe SDK の統合を使用して、現在プッシュ通知をテストする方法と同様です。

+++

+++アプリがバックグラウンドにある場合、更新はどのように処理されますか？

これはSDKで自動的に処理されます。 登録すると、アプリが終了した場合でも、ライブアクティビティに更新が送られます。 追加の背景モードは必要ありません。
+++

+++`liveActivityID` と `channelID` の違いは何ですか。

* `liveActivityID`：特定のユーザーをターゲットとした個々の（単一の）ライブアクティビティに使用します。 各 ID は、一意のライブアクティビティインスタンスを表します。
* `channelID`：オーディエンスに送信されるライブアクティビティをブロードキャストするために使用します。 オーディエンス内のすべてのユーザーは、同じチャネルで同じ更新を受け取ります。
+++

+++ダイナミック島の外観をロック画面とは別にカスタマイズできますか？

はい。`ActivityConfiguration` は、ロックスクリーンコンテンツとダイナミックアイランドコンテンツ（拡張、コンパクト、最小限の状態）に対して別々のクロージャーを持ち、それぞれが独立して設計されています。
+++

+++プッシュトークンを手動で保存する必要はありますか？

いいえ。`Messaging.registerLiveActivity()` にライブアクティビティタイプを登録すると、SDKによってプッシュトークンが自動的に収集され、管理されます。
+++

### マーケターの質問

+++ブロードキャストキャンペーンでユーザーごとにライブアクティビティのコンテンツをパーソナライズできますか？

ブロードキャストキャンペーンでは、オーディエンス内のすべてのユーザーに同じコンテンツが送信されます。 パーソナライズしたコンテンツの場合は、個々のユーザーをターゲットにした単一（トランザクション）キャンペーンを使用します。
+++

+++ライブアクティビティが正常に配信されたかどうかを確認するにはどうすればよいですか？

Adobe Journey Optimizerでの [ キャンペーン分析の監視 ](../reports/campaign-global-report-cja-activity.md)。 配信率、エラーおよびエンゲージメント指標をトラッキングできます。 また、アプリにカスタム分析イベントを実装することを検討します。
+++

+++ライブアクティビティを事前にスケジュールすることはできますか？

API 呼び出しにより、ライブアクティビティが直ちにトリガーされます。 ただし、バックエンドシステムを通じて API 呼び出しをスケジュールしたり、Journey Optimizerのオーケストレーション機能を使用して API 呼び出しに適切な時間を設定したりできます。
+++

+++既に存在するライブアクティビティの「開始」イベントを送信するとどうなりますか？

Adobe Execution API を使用してライブアクティビティをリモートで開始する場合：

* リクエストに `x-request-id` ヘッダーを含めることができます。 各 `liveActivityID` ージとそれに対応する `x-request-id` ージの間に 1 対 1 の関係があることが理想的です。 これにより、同じ `x-request-id` と `liveActivityID` の組み合わせで複数のリクエストが行われる場合、デバイスで開始されるライブアクティビティは 1 つだけで、重複したリクエストは無視されます。

* `x-request-id` ヘッダーが省略された場合、各リクエストは個別に処理されるので、同じ `liveActivityID` を持つ複数のライブアクティビティが作成される可能性があります。 このような場合、今後の更新が失敗したり、アクティブなインスタンスの 1 つにのみ適用されたりすることがあります。

* `x-request-id` 値は、異なる `liveActivityIDs` 間で別々の API リクエストで再利用しないでください。

+++

+++A/B テストで様々なライブアクティビティエクスペリエンスをテストできますか？

はい。異なるコンテンツ構造で複数のキャンペーンを作成し、Adobe Journey Optimizerの実験機能を使用して、パフォーマンスの高いキャンペーンをテストします。 アプリがすべてのコンテンツ状態のバリエーションをサポートしていることを確認します。

+++

+++ライブアクティビティを更新する頻度はどのくらいですか？

頻繁に更新すると、バッテリが消耗し、ユーザーエクスペリエンスの品質が低下する可能性があるので、重要な情報が変更された場合にのみ更新してください。 配信トラッキングなどのリアルタイムシナリオの場合、通常は 30～60 秒ごとに設定できます。 スポーツスコアなど、変化が遅いコンテンツの場合は、重要なイベントのみを更新します。

+++

+++ライブアクティビティが有効になっているかどうかに基づいてユーザーをターゲットに設定することはできますか。

開発チームと協力して、この環境設定をトラッキングしユーザー属性としてAdobe Experience Platformに渡し、その属性に基づいてセグメント化する必要があります。

+++

### API に関する質問

+++`timestamp` と `dismissal-date` の違いは何ですか。

* `timestamp`：イベントが発生する現在のエポック時間（すべてのイベントで必要）。
* `dismissal-date`: ライブアクティビティが自動解除される将来のエポック時間。「終了」イベントにのみ必要です。

+++

+++更新の呼び出しごとに、すべてのフィールド `attributes` 送信する必要がありますか？

はい、あなた `LiveActivityAttribute` クラスに基づいて。

* 属性オブジェクトのすべてのフィールド（`liveActivityData` を含む）は、すべての呼び出し（開始、更新、終了）に含める必要があります。
* `content-state` フィールドのみが、実行中のライブアクティビティで実際に動的に変化する内容を表します。
* アラートオブジェクトも含めることで、プッシュは、サイレントなバックグラウンドメッセージではなく、ユーザーに表示される通知として確実に処理されます。 「開始」ケースの場合にのみ必須で、それ以外の場合はオプションです。

+++

+++エポックタイムスタンプはどのような形式にする必要がありますか？

ミリ秒単位ではなく、Unix のエポック時間を **秒** で使用します。 例：`1759937682`

+++

+++複数の API 呼び出しに同じ `requestId` を使用できますか？

いいえ。各 API リクエストには、有効期限と適切なトラッキングを確保するための一意の `requestId` が必要です。 UUID または類似した一意の ID を使用します。

+++

+++ヘッドレス API には、どのような認証が必要ですか？

OAuth トークンや API キーなどの認証要件については、[API トリガーキャンペーンのドキュメント ](https://developer.adobe.com/journey-optimizer-apis/references/messaging/) を参照してください。

+++

+++API 呼び出しが失敗した場合はどうなりますか？

指数バックオフを使用して再試行ロジックを実装します。 API 応答でエラーコードとメッセージを確認して、問題を診断します。 一般的なエラーには、無効なキャンペーン ID、形式が正しくないペイロード、認証の問題などがあります。

+++

+++ライブアクティビティのアップデートを独自のバックエンドサーバーから送信できますか？

はい、これが意図された動作です。 バックエンドは、ビジネスロジックで必要なときに、Adobe Journey Optimizer ヘッドレス API を呼び出して、ライブアクティビティイベントをトリガーします。

+++

+++開始、更新、終了イベントに別のキャンペーンは必要ですか？

いいえ。同じキャンペーンを使用して、ペイロードの「`event`」フィールドを変更できます。 ただし、分析のトラッキングを向上させるために、別々のキャンペーンを選択する組織もあります。

+++

### トラブルシューティングの質問

+++ライブアクティビティが開始するが、更新されない。 問題は何でしょうか？

一般的な原因：

* 開始呼び出しと更新呼び出しの間で `liveActivityID` または `channelID` が一致しません。
* `content-state` フィールドが `ContentState` 構造体と一致しません。
* ライブアクティビティは既に終了しています。
* デバイスのネットワーク接続の問題。

+++

+++`attributes-type` フィールドが認識されません。 何を確認すればよいですか？

* クラス名が Swift 構造体名と一致する **完全に** 大文字と小文字を区別）
* 構造体が正しく定義され、登録されていることを確認します。
* JSON ペイロードの入力ミスを確認
* インストールされているアプリケーションのバージョンに Live Activity 実装があることを確認します。

+++

+++ユーザーにはライブアクティビティの更新のみが表示され、アラート通知は表示されません。これは既知の問題ですか？

いいえ。`alert` フィールドはオプションで、特定の条件（Do Not Disturb モードなど）でiOSによって抑制される場合があります。 ライブアクティビティは、サイレントに更新できます。これは、多くの場合、意図された動作です。 アラートフィールドは、リモートスタートを送信する場合には必須です。そうでない場合、Apple はサイレントなバックグラウンド通知のように扱います。

+++

+++ユーザーのすべてのライブアクティビティを削除またはクリアすることはできますか？

アクティブなライブアクティビティごとに「終了」イベントを送信する必要があります。 システム内の各ユーザーに対してアクティブなライブアクティビティを追跡して、適切にクリーンアップできるようにします。

+++

+++更新を送信したにもかかわらず、ウィジェットに「データがありません」と表示される。 問題は何でしょうか？

* ウィジェットの実装が `context.state` および `context.attributes` に正しくアクセスしていることを確認します。
* デフォルト値やエラー状態がウィジェットインターフェイスで処理されていることを確認します。
* `LiveActivityAssuranceDebuggable` プロトコルを使用してスキーマをデバッグします。
* Adobe Assuranceを使用して、データが受信されているかどうかをテストします。
+++
