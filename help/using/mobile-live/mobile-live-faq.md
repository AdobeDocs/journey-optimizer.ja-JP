---
solution: Journey Optimizer
product: journey optimizer
title: よくある質問
description: ライブアクティビティに関するよくある質問
topic: Content Management
role: User
level: Beginner
hide: true
hidefromtoc: true
source-git-commit: ce6bfca78d097588b5958c10c721b29b7013b3e2
workflow-type: ht
source-wordcount: '1603'
ht-degree: 100%

---

# よくある質問 {#mobile-live-faq}

>[!BEGINSHADEBOX]

* [ライブアクティビティの基本を学ぶ](get-started-mobile-live.md)
* [ライブアクティビティの設定](mobile-live-configuration.md)
* [Adobe Experience Platform Mobile SDK とのライブアクティビティ統合](mobile-live-configuration-sdk.md)
* [ライブアクティビティの作成](create-mobile-live.md)
* **[よくある質問](mobile-live-faq.md)**
* [ライブアクティビティキャンペーンレポート](../reports/campaign-global-report-cja-activity.md)

>[!ENDSHADEBOX]

## 一般的な質問

+++ライブアクティビティとプッシュ通知の違いは何ですか？

ライブアクティビティは、ユーザーがデバイスをロック解除しなくても、ロック画面と Dynamic Island で永続的なリアルタイム更新を提供します。プッシュ通知は、閉じると表示されなくなる一時的なアラートです。ライブアクティビティは引き続き表示され、明示的に終了するまで複数回更新できます。

+++

+++一度にアクティブにできるライブアクティビティの数はいくつですか？

iOS アプリは、同じ `ActivityAttributes` タイプを使用する複数のライブアクティビティを同時に実行できます。

特定の属性タイプのライブアクティビティが存在できる数に関して、開発者によって課されるハードリミットはありません。アプリのロジックで必要な数だけ（例えば、進行中の配信やライドごとに 1 つずつ）開始できます。ただし、iOS では、一度にアクティブまたは表示できるライブアクティビティの数にシステムレベルの制限が適用されます。

実際には：

* iOS は通常、アプリごとに最大 5 つの同時ライブアクティビティをサポートします。

* この数を超える場合は、システムはリソースを節約するために一部のアクティビティの表示を停止したり、古いアクティビティを終了したりすることがあります。

* 各ライブアクティビティには一意の `Activity.id` があります。これにより、個別に更新または終了できます。

+++

+++ライブアクティビティの更新を受信するには、ユーザーはアプリを開いている必要がありますか？

いいえ。ライブアクティビティは、アプリが完全に閉じられている場合でもリモートで開始、更新、終了でき、この機能の主なメリットの 1 つです。

+++

+++ライブアクティビティをサポートしている iOS バージョンは何ですか？

* iOS 16.1 以降：基本的なライブアクティビティサポート
* iOS 17.2 以降：プッシュトゥスタート機能（アプリを開かずにリモートで開始）
* iOS 18 以降：オーディエンスベースのライブアクティビティのブロードキャストチャネルのサポート
+++

+++ライブアクティビティは、どれくらいの期間アクティブなままにできますか？

Apple は、ライブアクティビティの&#x200B;**アクティブな更新を 8 時間**&#x200B;に制限しています。その後、アクティビティが自動的に終了しますが、削除されるまで&#x200B;**さらに最大 12 時間**、静的な状態で表示されたままになる場合があります。また、`dismissalDate` を設定するか、アプリで `activity.end()` を明示的に呼び出すことで、ライブアクティビティを早く終了することもできます。

+++

### 開発者に関する質問

+++ライブアクティビティ用に別のウィジェット拡張機能を作成する必要はありますか？

はい。ライブアクティビティは WidgetKit を通じて表示されるので、Xcode プロジェクトでウィジェット拡張機能を作成し、`ActivityConfiguration` を実装する必要があります。
[ウィジェット設定の詳細情報](mobile-live-configuration-sdk.md)

+++

+++ローカルとリモートの両方のライブアクティビティに同じ `LiveActivityAttributes` クラスを使用できますか？

はい。同じ属性クラスは、ローカルで開始されたライブアクティビティとリモートで開始された（プッシュトゥスタート）ライブアクティビティの両方で機能します。必ず `Messaging.registerLiveActivity()` に登録する必要があります。

+++

+++存在しないライブアクティビティの更新を送信するとどうなりますか？

存在しない `liveActivityID` または `channelID` の更新イベントまたは終了イベントを送信すると、デバイス上でリクエストは通知なしで失敗します。各ユーザーに対してアクティブなライブアクティビティを常に追跡するようにしてください。

+++

+++iOS シミュレーターでライブアクティビティをテストできますか？

はい、iOS シミュレーターで、ローカルで開始されたライブアクティビティとリモートで開始されたライブアクティビティをテストできます。

* **ローカル**：これには、**ActivityKit API** を使用してアプリからライブアクティビティを直接作成、更新、終了することが含まれます。

* **リモート**：ライブアクティビティ機能をリモートでテストするには、Messaging SDK をアプリに統合し、提供されている実行 API を使用して、リモート開始、更新、終了をテストデバイスまたは iOS シミュレーターに送信します。現在、Adobe SDK 統合を使用してプッシュ通知をテストできる方法と同様です。

+++

+++アプリがバックグラウンドにある際に更新を処理するにはどうすればよいですか？

これは、SDK で自動的に処理されます。登録すると、アプリを終了してもライブアクティビティは更新を受信します。追加のバックグラウンドモードは必要ありません。
+++

+++`liveActivityID` と `channelID` の違いは何ですか？

* `liveActivityID`：特定のユーザーをターゲットにした個々の（単一の）ライブアクティビティに使用されます。各 ID は、一意のライブアクティビティインスタンスを表します。
* `channelID`：オーディエンスに送信されるブロードキャストライブアクティビティに使用されます。オーディエンスのすべてのユーザーは、同じチャネルで同じ更新を受信します。
+++

+++ロック画面とは別に Dynamic Island の外観をカスタマイズできますか？

はい。`ActivityConfiguration` には、ロック画面コンテンツと Dynamic Island コンテンツ（展開、コンパクト、最小状態）用の個別のクロージャーがあり、それぞれが独立してデザインされています。
+++

+++プッシュトークンを手動で保存する必要はありますか？

いいえ。`Messaging.registerLiveActivity()` にライブアクティビティタイプを登録すると、SDK によりプッシュトークンが自動的に収集および管理されます。
+++

### マーケターに関する質問

+++ブロードキャストキャンペーンで各ユーザーのライブアクティビティコンテンツをパーソナライズできますか？

ブロードキャストキャンペーンでは、オーディエンスのすべてのユーザーに同じコンテンツが送信されます。パーソナライズされたコンテンツの場合は、個々のユーザーをターゲットにした単一（トランザクション）キャンペーンを使用します。
+++

+++ライブアクティビティが正常に配信されたかどうかを確認するにはどうすればよいですか？

Adobe Journey Optimizer で[キャンペーン分析を監視します](../reports/campaign-global-report-cja-activity.md)。配信率、エラー、エンゲージメント指標を追跡できます。また、アプリにカスタム分析イベントを実装することも考慮します。
+++

+++ライブアクティビティを事前にスケジュールできますか？

API 呼び出しにより、ライブアクティビティがすぐにトリガーされます。ただし、バックエンドシステムを通じて API 呼び出しをスケジュールしたり、Journey Optimizer のオーケストレーション機能を使用して適切なタイミングで呼び出しを行ったりできます。
+++

+++既に存在するライブアクティビティの「開始」イベントを送信するとどうなりますか？

Adobe Execution API を使用してライブアクティビティをリモートで開始する場合：

* リクエストに `x-request-id` ヘッダーを含めることができます。理想的には、各 `liveActivityID` とこれに対応する `x-request-id` は 1 対 1 の関係になる必要があります。これにより、同じ `x-request-id` と `liveActivityID` の組み合わせで複数のリクエストが行われた場合、デバイス上で 1 つのライブアクティビティのみが開始され、重複したリクエストは無視されます。

* `x-request-id` ヘッダーを省略すると、各リクエストが個別に処理されるので、同じ `liveActivityID` で複数のライブアクティビティが作成されることがあります。このような場合、今後の更新は失敗するか、アクティブなインスタンスの 1 つにのみ適用されることがあります。

* `x-request-id` 値は、別々の API リクエスト内の異なる `liveActivityIDs` 間で再利用しないでください。

+++

+++様々なライブアクティビティエクスペリエンスの A/B テストを実行できますか？

はい。異なるコンテンツ構造を持つ複数のキャンペーンを作成し、Adobe Journey Optimizer の実験機能を使用して、どのキャンペーンのパフォーマンスが優れているかをテストします。アプリがすべてのコンテンツ状態のバリエーションをサポートしていることを確認します。

+++

+++ライブアクティビティを更新する必要がある頻度はどのくらいですか？

頻繁に更新するとバッテリーが消耗し、ユーザーエクスペリエンスの品質が低下する可能性があるので、意味のある情報が変更された場合にのみ更新してください。配信トラッキングなどのリアルタイムシナリオでは、通常 30～60 秒間隔に設定できます。スポーツのスコアなど、変化の遅いコンテンツの場合は、重要なイベントについてのみ更新します。

+++

+++ライブアクティビティが有効になっているかどうかに基づいてユーザーをターゲットにできますか？

開発チームと連携して、この環境設定をユーザー属性として追跡し、Adobe Experience Platform に渡して、その属性に基づいてセグメント化する必要があります。

+++

### API に関する質問

+++`timestamp` と `dismissal-date` の違いは何ですか？

* `timestamp`：イベントが発生した現在のエポック時間（すべてのイベントに必要）。
* `dismissal-date`：ライブアクティビティが自動的に閉じる今後のエポック時間（「終了」イベントの場合にのみ必要）。

+++

+++すべての更新呼び出しで、すべての `attributes` フィールドを送信する必要がありますか？

はい、`LiveActivityAttribute` クラスに基づきます。

* `liveActivityData` を含む属性オブジェクトのすべてのフィールドは、開始、更新、終了のすべての呼び出しに含める必要があります。
* `content-state` フィールドのみが、実行中のライブアクティビティで実際に動的に変化する内容を表します。
* アラートオブジェクトも含めると、プッシュがサイレントなバックグラウンド通知ではなく、ユーザーに表示される通知として処理されるようになります。「開始」ケースの場合のみ必須で、それ以外の場合はオプションです。

+++

+++エポックタイムスタンプはどのような形式にする必要がありますか？

Unix エポック時間を&#x200B;**秒**&#x200B;単位（ミリ秒ではなく）で使用します。例：`1759937682`

+++

+++複数の API 呼び出しに同じ `requestId` を使用できますか？

いいえ。べき等性と適切なトラッキングを確保するには、各 API リクエストに一意の `requestId` が必要です。UUID または類似した一意の識別子を使用します。

+++

+++Headless API には、どのような認証が必要ですか？

OAuth トークンや API キーを含む認証要件について詳しくは、[API トリガーキャンペーンドキュメント](https://developer.adobe.com/journey-optimizer-apis/references/messaging/)を参照してください。

+++

+++API 呼び出しが失敗した場合はどうなりますか？

指数バックオフを使用して再試行ロジックを実装します。API 応答でエラーコードとメッセージを確認して、問題を診断します。一般的な失敗には、無効なキャンペーン ID、形式が正しくないペイロード、認証の問題などがあります。

+++

+++独自のバックエンドサーバーからライブアクティビティの更新を送信できますか？

はい、それが意図された動作です。バックエンドは、ビジネスロジックで必要な際に Adobe Journey Optimizer Headless API を呼び出してライブアクティビティイベントをトリガーします。

+++

+++開始、更新、終了イベントごとに異なるキャンペーンが必要ですか？

いいえ。同じキャンペーンを使用して、ペイロードの `event` フィールドを変更できます。ただし、分析のトラッキングを向上させるために、個別のキャンペーンを選択する組織もあります。

+++

### トラブルシューティングに関する質問

+++ライブアクティビティは開始されますが、更新されません。問題は何ですか？

一般的な原因：

* 開始呼び出しと更新呼び出し間の `liveActivityID` または `channelID` が一致しません。
* `content-state` フィールドが `ContentState` 構造体と一致しません。
* ライブアクティビティが既に終了しています。
* デバイスのネットワーク接続の問題。

+++

+++`attributes-type` フィールドが認識されません。何を確認すればよいですか？

* クラス名が Swift 構造体名と&#x200B;**正確**&#x200B;に一致している（大文字と小文字が区別される）ことを確認します
* 構造体が適切に定義され、登録されていることを確認します
* JSON ペイロードの入力ミスを確認します
* インストールされているアプリのバージョンにライブアクティビティが実装されていることを確認します

+++

+++ユーザーにはライブアクティビティの更新のみが表示され、アラート通知は表示されません。これは既知の問題ですか？

いいえ。`alert` フィールドはオプションで、特定の条件（例：Do Not Disturb モード）では iOS で抑制される場合があります。ライブアクティビティはサイレントに更新されることがありますが、これは多くの場合、意図された動作です。リモートスタートを送信するには、アラートフィールドが必須です。そうでない場合、Apple はサイレントバックグラウンド通知のように処理します。

+++

+++ユーザーのすべてのライブアクティビティを削除またはクリアできますか？

アクティブなライブアクティビティごとに「終了」イベントを送信する必要があります。システム内の各ユーザーに対してアクティブなライブアクティビティを追跡し、適切にクリーンアップできるようにします。

+++

+++更新を送信したにもかかわらず、ウィジェットに「データなし」と表示されます。問題は何ですか？

* ウィジェットの実装が `context.state` と `context.attributes` に適切にアクセスしていることを確認します。
* ウィジェットインターフェイスでデフォルト値またはエラー状態が処理されていることを確認します。
* `LiveActivityAssuranceDebuggable` プロトコルを使用してスキーマをデバッグします。
* Adobe Assurance を使用してテストし、データが受信されているかどうかを確認します。
+++
