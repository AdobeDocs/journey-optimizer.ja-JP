---
solution: Journey Optimizer
product: journey optimizer
title: Journey Optimizer ガードレールと制限
description: Journey Optimizer のガードレールの詳細を学ぶ
feature: Journeys
topic: Content Management
role: User
level: Intermediate
exl-id: 5d59f21c-f76e-45a9-a839-55816e39758a
source-git-commit: eccc8d954ce36747800d42eb2b73e45952eb43e7
workflow-type: tm+mt
source-wordcount: '2065'
ht-degree: 100%

---

# ガードレールと制限 {#limitations}

使用権限、製品の制限事項、パフォーマンスガードレールの一覧については、[Adobe Journey Optimizer 製品説明ページ](https://helpx.adobe.com/jp/legal/product-descriptions/adobe-journey-optimizer.html){target="_blank"}を参照してください。

また、[開始する前に、リアルタイム顧客プロファイルデータのガードレール](https://experienceleague.adobe.com/docs/experience-platform/profile/guardrails.html?lang=ja){target="_blank"}も認識しておく必要があります。 

[!DNL Adobe Journey Optimizer] を使用する際には、さらに以下のガードレールと制限事項があります。

## サポートされているブラウザー {#browsers}

Adobe [!DNL Journey Optimizer] のインターフェイスは、最新バージョンの Google Chrome で最適に動作するようにデザインされています。古いバージョンや他のブラウザーでは、特定の機能を使用すると問題が発生する場合があります。

## メッセージガードレール {#message-guardrails}

* [!DNL Journey Optimizer] では、メールに添付ファイルを追加することはできません。
* [!DNL Adobe Journey Optimizer] と他の製品（[!DNL Adobe Campaign] や [!DNL Adobe Marketo Engage] など）から、同じ送信ドメインを使用してメッセージを送信することはできません。

## ランディングページガードレール {#lp-guardrails}

* 単一のプライマリページで使用できる&#x200B;**フォーム**&#x200B;コンポーネントは 1 つだけです。
* **フォーム**&#x200B;コンポーネントはサブページでは使用できません。
* ランディングページにプリヘッダーを追加することはできません。
* ランディングプライマリページをデザインするときに、「**独自のコード**」オプションを選択することはできません。

## SMS ガードレール {#sms-guardrails}

* MMS 用のメディアファイルは、サポートされている URL を通じて含めることができます。メディアファイルは別々にアップロードしてください。
* 現在、MMS ではメッセージのフィードバック同期を使用できません。
* 同意の管理は、MMS の SMS チャネルレベルで動作します。

## サブドメインガードレール {#subdomain-guardrails}

デフォルトでは [!DNL Journey Optimizer] では、合計 10 個までのサブドメインをデリゲートできます（メールと web チャネルの両方を含む）。

ただし、ライセンス契約によっては、最大 100 個のサブドメインをデリゲートできる場合があります。自身が使用資格を持つサブドメインの数について詳しくは、アドビの連絡先にお問い合わせください。

## フラグメントガードレール {#fragments-guardrails}

* ビジュアルフラグメントは、メールチャネルでのみ使用できます。
* 式フラグメントは、アプリ内チャネルでは使用できません。

## ジャーニーガードレール {#journeys-guardrails}

### 一般的なジャーニーのガードレール {#journeys-guardrails-journeys}

* ジャーニー 1 つあたりのアクティビティ数は 50 に制限されます。アクティビティの数は、ジャーニーキャンバスの左上に表示されます。これは、読みやすさ、QA およびトラブルシューティングに役立ちます。
* ジャーニーを公開すると、最大のスループットと安定性を確保するために自動的にスケールと調整が行われます。一度に 100 のライブジャーニーというマイルストーンに近づくと、この達成に関する通知が UI に表示されるのがわかります。この通知が表示され、一度に 100 のライブジャーニーを超えてジャーニーを拡張する必要がある場合は、カスタマーケアのチケットを作成してください。アドビが目標の達成をお手伝いします。
* ジャーニーでオーディエンスの選定を使用すると、そのオーディエンスの選定アクティビティがアクティブになってオーディエンスにエントリまたは離脱するプロファイルをリッスンするのに、最大 10 分かかる場合があります。
* プロファイルのジャーニーインスタンスの最大サイズは 1 MB です。ジャーニーの実行の一部として収集されたすべてのデータは、そのジャーニーインスタンスに保存されます。したがって、受信イベントからのデータ、Adobe Experience Platform から取得したプロファイル情報、カスタムアクション応答などは、ジャーニーインスタンスに保存され、ジャーニーのサイズに影響を与えます。あるイベントでジャーニーが開始する場合、ジャーニーの実行において数件のアクティビティ後にその制限に到達するのを防ぐため、そのイベントペイロードの最大サイズ（例：800 KB 未満）を制限することをお勧めします。この制限に達すると、プロファイルはエラーステータスになり、ジャーニーから除外されます。
* ジャーニーアクティビティで使用されるタイムアウトのほかに、グローバルジャーニータイムアウトも存在します。こちらはインターフェイスに表示されず、変更もできません。ジャーニー内にいる個人の進捗は、エントリしてから 30 日経過すると、このグローバルタイムアウトにより停止されます。[詳細情報](../building-journeys/journey-gs.md#global_timeout)


### 一般的なアクション {#general-actions-g}

* エラーが発生した場合は、手順に従って 3 回再試行されます。受け取ったエラーメッセージに応じて、再試行回数を調整することはできません。再試行は、HTTP 401、403 および 404 を除くすべての HTTP エラーに対して実行されます。
* 組み込みの&#x200B;**反応**&#x200B;イベントを使用すると、標準のアクションに対応できます。詳しくは、[このページ](../building-journeys/reaction-events.md)を参照してください。カスタムアクションを介して送信されたメッセージに反応させたい場合は、専用のイベントを設定する必要があります。
* 2 つのアクションを並行して配置することはできません。1 つずつ順番に追加する必要があります。
* プロファイルは同じジャーニー内に同時に複数回存在することはできません。再エントリが有効な場合、プロファイルはジャーニーに再エントリできますが、以前のジャーニーインスタンスから完全に離脱するまでは実行できません。[詳細情報](../building-journeys/end-journey.md)

### ジャーニーのバージョン {#journey-versions-g}

* v1 でジャーニーをイベントアクティビティで開始した場合、それ以降のバージョンをイベント以外で開始することはできません。**オーディエンスの選定**&#x200B;イベントでジャーニーを開始することはできません。
* ジャーニーが v1 の&#x200B;**オーディエンスの選定**&#x200B;アクティビティで開始した場合、それ以降のバージョンも必ず&#x200B;**オーディエンスの選定**&#x200B;で開始する必要があります。
* **オーディエンスの選定**（最初のノード）で選択されたセグメントと名前空間を、新しいバージョンで変更することはできません。
* 再エントリのルールは、ジャーニーのすべてのバージョンで同じにする必要があります。
* **オーディエンスを読み取り**&#x200B;で開始したジャーニーを、次のバージョンで別のイベントで開始することはできません。
* 増分読み取りを使用して、「オーディエンスを読み取り」ジャーニーの新しいバージョンを作成することはできません。ジャーニーを複製する必要があります。

### カスタムアクション {#custom-actions-g}

* すべてのカスタムアクションには、各ホストおよび各サンドボックスに、1 分間で 300,000 件の呼び出しというキャッピングが定義されています。[このページ](../action/about-custom-action-configuration.md)を参照してください。この制限は、カスタムアクションの対象となる外部エンドポイントを保護するために、顧客の使用状況に基づいて設定されています。適切な読み取り率（カスタムアクションを使用する場合は 5,000 件のプロファイル）を定義して、オーディエンスベースのジャーニーでこの点を考慮する必要があります。必要に応じて、キャッピング／スロットリング API で上限またはスロットル制限を大きく定義することで、この設定を上書きできます。[このページ](../configuration/external-systems.md)を参照してください。
* カスタムアクションの URL は動的パラメーターをサポートしていません。
* POST、PUT および GET 呼び出しメソッドがサポートされています
* クエリパラメーターやヘッダーの名前は、「.」または「$」で始める必要があります。
* IP アドレスは使用できません。
* 内部 Adobe アドレス（`.adobe.*`）は、URL および API では使用できません。
* ビルトインのカスタムアクションは削除できません。
* カスタムアクションは、リクエストまたは応答ペイロードを使用する際にのみ JSON 形式をサポートします。[このページ](../action/about-custom-action-configuration.md#custom-actions-limitations)を参照してください。
* ターゲットにするエンドポイントをカスタムアクションを使用して選択する場合は、次の点を確認します。

   * このエンドポイントは、[Throttling API](../configuration/throttling.md) または [Capping API](../configuration/capping.md) の設定を使用してジャーニーのスループットを制限することでサポートできます。スロットル設定は、200 TPS を下回ることはできません。ターゲットにするエンドポイントは、200 TPS 以上をサポートする必要があります。
   * このエンドポイントの応答時間は、できるだけ短くする必要があります。予想されるスループットに応じて、応答時間が長いと、実際のスループットに影響を与える可能性があります。

### イベント {#events-g}

* システム生成イベントの場合、まず Journey Optimizer 内でカスタマージャーニーの開始に使用するストリーミングデータを設定して、一意のオーケストレーション ID を取得する必要があります。このオーケストレーション ID は、Adobe Experience Platform に到達するストリーミングのペイロードに追加する必要があります。この制限は、ルールベースのイベントには適用されません。
* ビジネスイベントは、単一イベントやオーディエンスの選定アクティビティと組み合わせて使用することはできません。
* （イベントまたはオーディエンスの選定で始まる）単一ジャーニーには、同じイベントに対してジャーニーが誤って複数回トリガーされるのを防ぐガードレールが含まれています。プロファイルの再エントリは、デフォルトで 5 分間一時的にブロックされます。 例えば、あるイベントが特定のプロファイルのジャーニーを 12:01 にトリガーし、12:03 に別のイベントが到着した場合（それが同じイベントであっても、同じジャーニーをトリガーする別のイベントであっても）、このプロファイルのジャーニーが再び開始されることはありません。
* Journey Optimizer でジャーニーをトリガーするには、イベントをデータ収集コアサービス（DCCS）にストリーミングする必要があります。バッチまたはイベントで内部 Journey Optimizer データセットから取り込まれたイベント（メッセージフィードバック、メールトラッキングログなど）ジャーニーのトリガーに使用できません。ストリーミングイベントを取得できないユースケースについては、代わりに、それらのイベントに基づいてオーディエンスを作成し、**オーディエンスを読み取り**&#x200B;アクティビティを使用してください。オーディエンスの選定は技術的に使用できますが、使用されるアクションに応じて、ダウンストリームの課題が生じる可能性があります。

### データソース {#data-sources-g}

* 外部データソースを利用すると、カスタマージャーニー内でリアルタイムに外部データを参照できます。それらのソースは、REST API 経由で使用でき、JSON をサポートし、リクエストのボリューム量を処理できる必要があります。
* 内部 Adobe アドレス（`.adobe.*`）は、URL および API では使用できません。

>[!NOTE]
>
>応答がサポートされるようになったので、外部データソースのユースケースでは、データ ソースの代わりにカスタムアクションを使用する必要があります。

### ジャーニーとプロファイルの作成 {#journeys-limitation-profile-creation}

Adobe Experience Platform では、API ベースのプロファイルの作成や更新に関連して遅延が発生します。待ち時間に関するサービスレベルターゲット（SLT）は、毎秒 2 万件のリクエスト（RPS）のボリュームで、95 パーセンタイルのリクエストに対し、統合プロファイルへの取得から 1 分未満です。

ジャーニーがプロファイルの作成と同時にトリガーされ、プロファイルサービスから情報を直ちに確認または取得した場合は、正常に機能しない可能性があります。

次の 2 つの解決策を選択できます。

* 最初のイベントの後に待機アクティビティを追加して、プロファイルサービスへの取得に必要な時間を Adobe Experience Platform に与えます。

* このプロファイルをすぐには活用しないジャーニーを設定します。例えば、アカウントの作成を確認するようにジャーニーをデザインしている場合、エクスペリエンスイベントには、最初の確認メッセージを送信するのに必要な情報（姓、名、メールアドレスなど）を含めることができます。

### オーディエンスを読み取り {#read-segment-g}

* ストリーミングオーディエンスは常に最新の状態になりますが、バッチオーディエンスは取得時に計算されません。毎日のバッチ評価時にのみ評価されます。
* オーディエンスを読み取りアクティビティを使用するジャーニーの場合、同時に開始できるジャーニーの最大数が決まっています。再試行はシステムによって実行されますが、例えば、5～10 分間隔で時間を分散させて、5 つを超えるジャーニー（オーディエンスを読み取り、スケジュール済みまたは「できるだけ早く」開始）を同時に開始することは避けてください。

### 式エディター {#expression-editor}

* エクスペリエンスイベントフィールドグループは、「オーディエンスを読み取り」アクティビティや、オーディエンスの選定またはビジネスイベントアクティビティで始まるジャーニーでは使用できません。新しいオーディエンスを作成し、ジャーニーで inaudience 条件を使用する必要があります。


### アプリ内アクティビティの制限 {#in-app-activity-limitations}

* この機能は、現在、ヘルスケアのお客様は利用できません。

* パーソナライゼーションには、プロファイル属性のみを含めることができます。

* アプリ内表示は、ジャーニーの存続期間に関連付けられています。つまり、プロファイルのジャーニーが終了すると、そのジャーニー内のすべてのアプリ内メッセージがそのプロファイルに表示されなくなります。その結果、ジャーニーアクティビティからアプリ内メッセージを直接停止することはできません。代わりに、ジャーニー全体を終了して、アプリ内メッセージがプロファイルに表示されないようにする必要があります。

* テストモードでは、アプリ内表示はジャーニーの存続期間によって異なります。テスト中にジャーニーが早く終了しないようにするには、**[!UICONTROL 待機]**&#x200B;アクティビティの&#x200B;**[!UICONTROL 待機時間]**&#x200B;の値を調整します。

* **[!UICONTROL 反応]**&#x200B;アクティビティを使用して、アプリ内のオープンまたはクリックに反応することはできません。

* ユーザープロファイルがキャンバス内のアプリ内アクティビティに到達してから、そのアプリ内メッセージが表示され始めるまでの間にアクティベーションの遅延が発生する場合があります。

* アプリ内メッセージのコンテンツサイズは 2 MB に制限されています。大きな画像を含めると、公開プロセスの妨げになる場合があります。

## オーディエンスガードレール {#audience}

* 特定のサンドボックス内で最大 10 個のオーディエンスコンポジションを公開できます。このしきい値に達した場合、新しいコンポジションを公開するためには、コンポジションを削除してスペースを解放する必要があります。

## 意思決定管理ガードレール {#decision-management}

### パフォーマンスガードレール {#performance-guardrails}

配信スループットは、指定した時間内に意思決定管理アプリサービスで配信できる決定応答の数に対応します。次の表に、1 秒あたりの決定数を示します。

| API | 1 秒あたりの決定数 |
|---------|----------|
| Decisioning API リクエスト数 | 1 秒あたり 500 個 |
| Edge Decisioning API リクエスト数 | 1 秒あたり 1500 個 |

### 制限事項 {#offers-limitations}

意思決定管理の制限事項は次のとおりです。

* **承認済みのパーソナライズされたオファー + フォールバックオファー** - 承認済みのパーソナライズされたオファーと承認済みのフォールバックオファーを組み合わせて最大 10,000 個。
* **決定** - 最大 10,000 個の決定。
* **ライブ決定** - Offer Decisioning アプリサービスは、最大 1,000 個のライブ決定をサポートします。
* **応答ごとに返されるオファー** - Offer Decisioning は、リクエスト内のすべての決定範囲にわたって、リクエストごとに返されるオファーを最大 100 個サポートします。
* **コレクション** - 最大 10,000 個のコレクション。
* **決定ごとのコレクション** - 決定ごとに最大 30 個のコレクション。
* **決定ルール + ランキング関数** - 決定ルールとランキング関数を組み合わせて最大 10,000 個。
* **プレースメント** - 最大 1,000 個のプレースメント。
* **決定ごとのプレースメント** - 決定ごとに最大 30 個のプレースメント。
* **決定ごとのランキング方法** - Offer Decisioning アプリサービスは、決定ごとに最大 30 個のランキング関数をサポートします。
* **AI ランキングモデル** - Offer Decisioning アプリサービスは、最大 5 個の AI ランキングモデルをサポートします。
* **オファーまたはコレクションごとのコレクション修飾子** - Offer Decisioning アプリサービスは、単一のパーソナライズされたオファーまたは単一のコレクションで最大 20 個のコレクション修飾子をサポートします。
* **合計コレクション修飾子** - Offer Decisioning アプリサービスは、最大 1,000 個のコレクション修飾子をサポートします。